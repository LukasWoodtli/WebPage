{
    "componentChunkName": "component---src-templates-blog-post-tsx",
    "path": "/blog/hw_sw_codesign",
    "result": {"data":{"site":{"siteMetadata":{"title":"My personal Website"}},"markdownRemark":{"id":"2450c51c-9e3f-58f1-b25a-f8bd632ba2dd","excerpt":"[TOC] 0. Overview Specification and Models of Computation State-Charts Kahn Process Networks Design Space Exploration Mapping Partitioning Multi-Criteria…","html":"<p>[TOC]</p>\n<h1 id=\"0-overview\">0. Overview</h1>\n<ul>\n<li>Specification and Models of Computation\n<ul>\n<li>State-Charts</li>\n<li>Kahn Process Networks</li>\n</ul>\n</li>\n<li>Design Space Exploration\n<ul>\n<li>Mapping</li>\n<li>Partitioning</li>\n<li>Multi-Criteria Optimization</li>\n</ul>\n</li>\n<li>Performance Estimation\n<ul>\n<li>Simulation-based Methods</li>\n<li>Worst-Case Execution Time Analysis</li>\n<li>Performance Analysis of Distributed Systems</li>\n<li>Thermal-aware Design</li>\n</ul>\n</li>\n</ul>\n<h1 id=\"1-introduction\">1. Introduction</h1>\n<h2 id=\"system-design\">System Design</h2>\n<ul>\n<li>Specifications and Models</li>\n<li>Design</li>\n<li>Estimation</li>\n</ul>\n<h2 id=\"embedded-systems\">Embedded Systems</h2>\n<ul>\n<li>Information processing system embedded in a larger product</li>\n<li>Interface to outside world\n<ul>\n<li>external process</li>\n<li>Sensors, actors</li>\n<li>Human interface</li>\n</ul>\n</li>\n<li>Technical environment does not forgive errors</li>\n<li>Stricter requirements (usually update not possible)</li>\n</ul>\n<h3 id=\"difference-embedded-systems--general-purpose-computing\">Difference Embedded Systems ↔ General Purpose Computing</h3>\n<table>\n<thead>\n<tr>\n<th>Embedded Systems</th>\n<th>General Purpose Computing</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Few Applications, known at design-time</td>\n<td>Broad class of applications</td>\n</tr>\n<tr>\n<td>Not programmable by end user</td>\n<td>Programmable by end user</td>\n</tr>\n<tr>\n<td>Fixed run-time requirement</td>\n<td>Faster is better</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"levels-of-abstraction-from-higher-to-lower\">Levels of abstraction (from higher to lower)</h3>\n<ul>\n<li>Transistors</li>\n<li>Gates</li>\n<li>Processor (Memory, Register, ALU, …)</li>\n<li>Architecture (CPU, ASIC, FPGA, LAN, …)</li>\n<li>Distributed System</li>\n</ul>\n<h3 id=\"design\">Design</h3>\n<ul>\n<li>Design aspects look similar in every level</li>\n<li>Design goes usually from higher abstraction level to lower level</li>\n<li>Abstraction: leave out (unimportant) details</li>\n<li>System level design:\n<ul>\n<li>SW Synthesis (compile)</li>\n<li>HW Synthesis</li>\n<li>Interfaces</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"estimation\">Estimation</h3>\n<ul>\n<li>Reason about solution</li>\n<li>Different solutions for a specific task</li>\n<li>Precision of estimation is different on each level\n<ul>\n<li>Higher level estimation usually less precise than lower level</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"mapping\">Mapping</h3>\n<ul>\n<li><strong>Mapping</strong> parts of specification to different parts of the system\n<ul>\n<li>Similar to scheduling but bigger design space (including HW)</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"specification\">Specification</h3>\n<ul>\n<li>Specification: in embedded systems higher requirements to correctness</li>\n<li>Specific languages:\n<ol>\n<li>Developer is restricted (lesser errors)</li>\n<li>Better code generator/synthesizer</li>\n</ol>\n</li>\n</ul>\n<blockquote>\n<p>Doing things right is difficult!</p>\n</blockquote>\n<ul>\n<li>Observer Pattern is not save!\n<ul>\n<li>Race conditions</li>\n<li>Dead-Locks</li>\n<li>Use non-locking algorithms!</li>\n</ul>\n</li>\n</ul>\n<h1 id=\"2-models-of-computation\">2. Models of Computation</h1>\n<blockquote>\n<p>Model of computation = Components + Communication</p>\n</blockquote>\n<ul>\n<li>Hierarchy\n<ul>\n<li>Behavioral</li>\n<li>Structural</li>\n</ul>\n</li>\n<li>Timing</li>\n<li>State oriented behavior (micro controller, FPGA)</li>\n<li>Dataflow oriented behavior (DSP)</li>\n</ul>\n<h2 id=\"state-charts\">State Charts</h2>\n<ul>\n<li>\n<p>Classical automata (Moore/Mealy): FSM</p>\n</li>\n<li>\n<p>State: <strong>Information</strong> needed to get (determine) the output form the input</p>\n</li>\n<li>\n<p>State Charts introduce hierarchy</p>\n<ul>\n<li>Combining States with Sub-States in Super-States</li>\n<li>Active States</li>\n<li>Basic States (no Sub-States)</li>\n<li>Super-States (ancestor states): OR-Super-States (hierarchy)</li>\n<li>Default State, History State (can be combined)</li>\n<li>AND-Super-States (concurrency)</li>\n</ul>\n</li>\n<li>\n<p>2 distinct features form FSM</p>\n<ul>\n<li>Hierarchy</li>\n<li>Difference of Control-Path and Data-Path</li>\n</ul>\n</li>\n<li>\n<p>Communication between Control- and Data-Path</p>\n<ul>\n<li>Control-Path to Data-Path: action</li>\n<li>Data-Path to Control-Path: condition</li>\n</ul>\n</li>\n<li>\n<p>Events, Conditions, Actions</p>\n</li>\n</ul>\n<p><span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><munder accentunder=\"true\"><mrow><mi>e</mi><mi>v</mi><mi>e</mi><mi>n</mi><mi>t</mi><mo stretchy=\"false\">[</mo><mi>c</mi><mi>o</mi><mi>n</mi><mi>d</mi><mi>t</mi><mi>i</mi><mi>t</mi><mi>i</mi><mi>o</mi><mi>n</mi><mo stretchy=\"false\">]</mo><mi mathvariant=\"normal\">/</mi><mi>a</mi><mi>c</mi><mi>t</mi><mi>i</mi><mi>o</mi><mi>n</mi></mrow><mo stretchy=\"true\">→</mo></munder></mrow><annotation encoding=\"application/x-tex\">\\underrightarrow{event [condtition] / action}</annotation></semantics></math></span></span></p>\n<ul>\n<li>No storage of events (only available for next step)</li>\n<li>Events are global</li>\n</ul>\n<h3 id=\"evaluation-of-state-charts\">Evaluation of State Charts</h3>\n<ul>\n<li>Evaluation is <strong>not</strong> trivial!</li>\n<li>Three phases\n<ol>\n<li>Event is emitted</li>\n<li>Transition is selected</li>\n<li>Simultaneously make transition and apply the actions\n<ul>\n<li>Execute the right hand side of action simultaneously and assign then after</li>\n</ul>\n</li>\n</ol>\n</li>\n</ul>\n<h2 id=\"specification-and-description-language-sdl\">Specification and Description Language (SDL)</h2>\n<ul>\n<li>Targeted at unambiguous specification and description of systems</li>\n<li><em>Asynchronous</em> message passing</li>\n<li>Appropriate also for distributed systems</li>\n<li>Communication between FSMs (or processes)\n<ul>\n<li>message passing with FIFO queues</li>\n<li>FIFOs can be indefinitely large</li>\n</ul>\n</li>\n<li>Each process fetches entry from FIFO\n<ul>\n<li>if input enables transition it takes place</li>\n<li>otherwise discard input</li>\n</ul>\n</li>\n<li>All orders of events are legal: different correct behavior in simulators (not deterministic)</li>\n</ul>\n<h2 id=\"dataflow-languages\">Dataflow Languages</h2>\n<ul>\n<li>\n<p>Imperative language style (<em>program counter</em>)</p>\n</li>\n<li>\n<p>Movement of data is priority</p>\n</li>\n<li>\n<p>Scheduling: responsibility of the system (not the programmer)</p>\n</li>\n<li>\n<p>Basic characteristics:</p>\n<ul>\n<li>all processes run ‘simultaneously’</li>\n<li>Processes can be described with imperative code</li>\n<li>Processes can <strong>only</strong> communicate through buffers</li>\n<li>Sequence of read tokens is same as of read tokens</li>\n</ul>\n</li>\n<li>\n<p>Useful for applications that deal with streams of data</p>\n<ul>\n<li>Concurrent: maps to parallel hardware</li>\n<li>Perfect for block-diagram specifications (control systems, signal processing)</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"kahn-process-networks\">Kahn Process Networks</h3>\n<ul>\n<li>General-purpose scheme for parallel programming\n<ul>\n<li><em>read</em>: destructive and blocking (reading empty channel blocks until data is available)</li>\n<li><em>write</em>: non-blocking</li>\n<li><em>FIFO</em>: infinite size</li>\n</ul>\n</li>\n<li>Unique attribute: <em>determinate</em></li>\n</ul>\n<h4 id=\"determinacy\">Determinacy</h4>\n<ul>\n<li>Random: knowing about system and inputs is not sufficient to determine output</li>\n<li>Determinate: the histories of <em>all channels</em> depend only on the histories of the <em>input channels</em></li>\n<li>Importance\n<ul>\n<li>Functional behavior is independent of timing (scheduling, communication time, execution time of processes)</li>\n<li>Separation of functional properties and timing</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"adding-non-determinacy\">Adding Non-Determinacy</h4>\n<ul>\n<li>Several possibilities\n<ul>\n<li>Allow processes to test for empty queues</li>\n<li>Allow multiple processes to write to or read from one channel</li>\n<li>Allow processes to share a variable (memory)</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"synchronous-dataflow-sdf\">Synchronous Dataflow (SDF)</h3>\n<ul>\n<li>Restriction of Kahn Networks to allow compile-time scheduling</li>\n<li>Each process reads and writes a <em>fixed number of tokens</em> each time it fires</li>\n<li>Firing is an atomic process</li>\n<li>Schedule can be determined completely at compile-time</li>\n<li>Steps:\n<ol>\n<li>Establish relative execution rates (solving a system of linear balancing equations)</li>\n<li>Determine periodic schedule by simulating system for a single round</li>\n</ol>\n</li>\n</ul>\n<!-- Week 05 - 14.10.15 -->\n<!-- Beginning of Notes Week 5 -->\n<!-- Beginning of Slides 3 -->\n<h1 id=\"3-mapping-application-to-architecture\">3. Mapping Application to Architecture</h1>\n<p>System synthesis from specification</p>\n<ul>\n<li>Allocation: Select components (HW)</li>\n<li>Binding: Bind SW (Application) to HW (Components)</li>\n<li>Scheduling: Executing code</li>\n</ul>\n<blockquote>\n<p>Mapping = Binding + Scheduling</p>\n</blockquote>\n<h2 id=\"specification-examples\">Specification Examples</h2>\n<h3 id=\"data-flow-graph-dfg\">Data-Flow Graph (DFG)</h3>\n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\">x <span class=\"token operator\">=</span> <span class=\"token operator\">*</span><span class=\"token number\">3</span>a <span class=\"token operator\">+</span> B<span class=\"token operator\">*</span>b <span class=\"token operator\">-</span> c<span class=\"token punctuation\">;</span>\ny <span class=\"token operator\">=</span> a <span class=\"token operator\">+</span> b<span class=\"token operator\">*</span>x<span class=\"token punctuation\">;</span>\nz <span class=\"token operator\">=</span> b <span class=\"token operator\">-</span> c<span class=\"token operator\">*</span><span class=\"token punctuation\">(</span>a <span class=\"token operator\">+</span> b<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li>no loops</li>\n<li>parallelism</li>\n</ul>\n<p><a href=\"https://en.wikipedia.org/wiki/Data_flow_diagram\">Data Flow Graph on Wikipedia</a></p>\n<h3 id=\"control-flow-graph-cfg\">Control-Flow Graph (CFG)</h3>\n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\">what_is_this <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">read</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    done <span class=\"token operator\">=</span> FALSE<span class=\"token punctuation\">;</span>\n    repeat <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>a<span class=\"token operator\">></span>b<span class=\"token punctuation\">)</span>\n            a <span class=\"token operator\">=</span> a<span class=\"token operator\">-</span>b<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>b<span class=\"token operator\">></span>a<span class=\"token punctuation\">)</span>\n            b <span class=\"token operator\">=</span> b<span class=\"token operator\">-</span>a<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">else</span> done <span class=\"token operator\">=</span> TRUE<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> until done<span class=\"token punctuation\">;</span>\n    <span class=\"token function\">write</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>State machine</li>\n<li>Conditional branches</li>\n</ul>\n<p><a href=\"https://en.wikipedia.org/wiki/Control_flow_graph\">Control Flow Graph on Wikipedia</a></p>\n<h2 id=\"architecture-specification\">Architecture Specification</h2>\n<ul>\n<li>Reflects structure and properties of underlying platform</li>\n<li>Can be done at different abstraction levels</li>\n</ul>\n<h2 id=\"mapping-specification\">Mapping Specification</h2>\n<p>Mapping: application and architecture specification</p>\n<ul>\n<li><em>binds</em> processes to processors</li>\n<li><em>binds</em> communication between processes to architecture communication paths</li>\n<li>specifies <em>resource sharing</em> and <em>scheduling</em></li>\n</ul>\n<p><img src=\"/f5ac64b4bd1a6836029cc83c48b82c68/hscd_partitioning_mapping.svg\" alt=\"Partitioning and Mapping\"></p>\n<!-- TODO: Repeat Slides 3-10 to 3-14 -->\n<h1 id=\"4-system-partitioning\">4. System Partitioning</h1>\n<blockquote>\n<p>Partitioning: Given a set of objects: Partition this set in subsets.</p>\n</blockquote>\n<blockquote>\n<p>Mapping: Subset is mapped to specific resource.</p>\n</blockquote>\n<h2 id=\"mapping-at-different-levels\">Mapping at different Levels</h2>\n<h3 id=\"low-level\">Low Level</h3>\n<ul>\n<li>Register Transfer Level (RTL) or Netlist Level</li>\n<li>Split a digital circuit and map it to several devices (FPGAs, ASICs)</li>\n<li>System parameters (e.g., area, delay) relatively easy to determine</li>\n</ul>\n<h3 id=\"high-level\">High Level</h3>\n<ul>\n<li>System Level</li>\n<li>Comparison of design alternatives for optimality (design space exploration)</li>\n<li>System parameters are unknown and difficult to determine\n<ul>\n<li>to be estimated via analysis, simulation, (rapid) prototyping</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"cost-functions\">Cost Functions</h2>\n<ul>\n<li>system cost (<em>C[$]</em>)</li>\n<li>latency (<em>L[sec]</em>)</li>\n<li>power consumption (<em>P[W]</em>)</li>\n<li>…</li>\n</ul>\n<h3 id=\"estimation-1\">Estimation</h3>\n<p>Estimation is required to find <em>C</em>, <em>L</em>, <em>P</em> values, for each design point</p>\n<p>i.e</p>\n<div class=\"math math-display\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>f</mi><mo stretchy=\"false\">(</mo><mi>C</mi><mo separator=\"true\">,</mo><mi>L</mi><mo separator=\"true\">,</mo><mi>P</mi><mo stretchy=\"false\">)</mo><mo>=</mo><msub><mi>k</mi><mn>1</mn></msub><mo>⋅</mo><msub><mi>h</mi><mi>C</mi></msub><mo stretchy=\"false\">(</mo><mi>C</mi><mo separator=\"true\">,</mo><msub><mi>C</mi><mrow><mi>m</mi><mi>a</mi><mi>x</mi></mrow></msub><mo stretchy=\"false\">)</mo><mo>+</mo><msub><mi>k</mi><mn>2</mn></msub><mo>⋅</mo><msub><mi>h</mi><mi>L</mi></msub><mo stretchy=\"false\">(</mo><mi>L</mi><mo separator=\"true\">,</mo><msub><mi>L</mi><mrow><mi>m</mi><mi>a</mi><mi>x</mi></mrow></msub><mo stretchy=\"false\">)</mo><mo>+</mo><msub><mi>k</mi><mn>3</mn></msub><mo>⋅</mo><msub><mi>h</mi><mi>P</mi></msub><mo stretchy=\"false\">(</mo><mi>P</mi><mo separator=\"true\">,</mo><msub><mi>P</mi><mrow><mi>m</mi><mi>a</mi><mi>x</mi></mrow></msub><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">f(C,L,P)= k_1 \\cdot h_C(C,C_{max})+ k_2 \\cdot h_L(L,L_{max})+ k_3 \\cdot h_P(P,P_{max})</annotation></semantics></math></span></div>\n<ul>\n<li><span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>h</mi><mi>C</mi></msub></mrow><annotation encoding=\"application/x-tex\">h_C</annotation></semantics></math></span></span>, <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>h</mi><mi>L</mi></msub></mrow><annotation encoding=\"application/x-tex\">h_L</annotation></semantics></math></span></span>, <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>h</mi><mi>P</mi></msub></mrow><annotation encoding=\"application/x-tex\">h_P</annotation></semantics></math></span></span>: denote how strong <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>C</mi></mrow><annotation encoding=\"application/x-tex\">C</annotation></semantics></math></span></span>, <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>L</mi></mrow><annotation encoding=\"application/x-tex\">L</annotation></semantics></math></span></span>, <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>P</mi></mrow><annotation encoding=\"application/x-tex\">P</annotation></semantics></math></span></span> violate design constraints <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>C</mi><mrow><mi>m</mi><mi>a</mi><mi>x</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">C_{max}</annotation></semantics></math></span></span>, <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>L</mi><mrow><mi>m</mi><mi>a</mi><mi>x</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">L_{max}</annotation></semantics></math></span></span>, <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>P</mi><mrow><mi>m</mi><mi>a</mi><mi>x</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">P_{max}</annotation></semantics></math></span></span></li>\n<li><span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>k</mi><mn>1</mn></msub></mrow><annotation encoding=\"application/x-tex\">k_1</annotation></semantics></math></span></span>, <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>k</mi><mn>2</mn></msub></mrow><annotation encoding=\"application/x-tex\">k_2</annotation></semantics></math></span></span>, <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>k</mi><mn>3</mn></msub></mrow><annotation encoding=\"application/x-tex\">k_3</annotation></semantics></math></span></span>: weighting and normalization</li>\n</ul>\n<h3 id=\"the-formal-partitioning-problem\">The Formal Partitioning Problem</h3>\n<p>Assign <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>n</mi></mrow><annotation encoding=\"application/x-tex\">n</annotation></semantics></math></span></span> objects <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo>=</mo><mo stretchy=\"false\">{</mo><msub><mi>o</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><mo>⋯</mo><mtext> </mtext><mo separator=\"true\">,</mo><msub><mi>o</mi><mi>n</mi></msub><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">O= \\{  o_1, \\cdots , o_n \\}</annotation></semantics></math></span></span> to <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>m</mi></mrow><annotation encoding=\"application/x-tex\">m</annotation></semantics></math></span></span> blocks (also called partitions)\n<span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>P</mi><mo>=</mo><mo stretchy=\"false\">{</mo><msub><mi>p</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><mo>⋯</mo><mtext> </mtext><mo separator=\"true\">,</mo><msub><mi>p</mi><mi>m</mi></msub><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">P= \\{  p_1, \\cdots , p_m \\}</annotation></semantics></math></span></span>, such that</p>\n<ul>\n<li><span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>p</mi><mn>1</mn></msub><mo>∪</mo><msub><mi>p</mi><mn>2</mn></msub><mo>∪</mo><mo>⋯</mo><mo>∪</mo><msub><mi>p</mi><mi>m</mi></msub><mo>=</mo><mi>O</mi></mrow><annotation encoding=\"application/x-tex\">p_1 \\cup p_2 \\cup \\cdots \\cup p_m = O</annotation></semantics></math></span></span> (all objects are assigned - mapped)</li>\n<li><span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>p</mi><mi>i</mi></msub><mo>∩</mo><msub><mi>p</mi><mi>j</mi></msub><mo>=</mo><mo stretchy=\"false\">{</mo><mo stretchy=\"false\">}</mo><mtext>  </mtext><mi mathvariant=\"normal\">∀</mi><mi>i</mi><mo separator=\"true\">,</mo><mi>j</mi><mo>:</mo><mi>i</mi><mo mathvariant=\"normal\">≠</mo><mi>j</mi></mrow><annotation encoding=\"application/x-tex\">p_i \\cap p_j = \\{ \\}\\; \\forall i,j:i\\neq j</annotation></semantics></math></span></span> (an object is not assigned or mapped twice)</li>\n<li>and costs <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>c</mi><mo stretchy=\"false\">(</mo><mi>P</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">c(P)</annotation></semantics></math></span></span> are minimized</li>\n</ul>\n<h3 id=\"partitioning-methods\">Partitioning Methods</h3>\n<p>Exact vs. Heuristic Methods:</p>\n<ul>\n<li>Exact provides optimal solution (or set of solutions)</li>\n<li>Heuristic provides a ‘good’ solution but not best</li>\n</ul>\n<p>Overview:</p>\n<ul>\n<li>Exact Methods\n<ul>\n<li>Enumeration</li>\n<li>Integer linear programs (ILP)</li>\n</ul>\n</li>\n<li>Heuristic\n<ul>\n<li>Constructive Methods\n<ul>\n<li>Random mapping</li>\n<li>Hierarchical clustering</li>\n</ul>\n</li>\n<li>Iterative methods\n<ul>\n<li>Kerninghan-Lin algorithm</li>\n<li>Simulated annealing</li>\n<li>Evolutionary algorithm</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"hierarchical-clustering\">Hierarchical Clustering</h4>\n<ul>\n<li>Combine always 2 nodes</li>\n<li>Then recalculate</li>\n<li>Repeat until goal achieved</li>\n<li>Steps can be visualized in a tree diagram</li>\n</ul>\n<h3 id=\"integer-linear-programming-ilp\">Integer Linear Programming (ILP)</h3>\n<ul>\n<li>Exact method</li>\n<li>Objective function</li>\n<li>Constraints</li>\n</ul>\n<p>Objective:</p>\n<div class=\"math math-display\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>C</mi><mo>=</mo><munder><mo>∑</mo><mrow><msub><mi>x</mi><mi>i</mi></msub><mo>∈</mo><mi>X</mi></mrow></munder><msub><mi>a</mi><mi>i</mi></msub><msub><mi>x</mi><mi>i</mi></msub><mtext>  </mtext><mi>w</mi><mi>i</mi><mi>t</mi><mi>h</mi><mtext>  </mtext><msub><mi>a</mi><mi>i</mi></msub><mo>∈</mo><mi mathvariant=\"double-struck\">R</mi><mo separator=\"true\">,</mo><msub><mi>x</mi><mi>i</mi></msub><mo>∈</mo><mi mathvariant=\"double-struck\">N</mi></mrow><annotation encoding=\"application/x-tex\">C = \\sum_{x_i\\in X}a_ix_i\\; with\\; a_i \\in \\mathbb{R}, x_i \\in \\mathbb{N}</annotation></semantics></math></span></div>\n<p>Constraints:</p>\n<div class=\"math math-display\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi mathvariant=\"normal\">∀</mi><mi>j</mi><mo>∈</mo><mi>J</mi><mo>:</mo><munder><mo>∑</mo><mrow><msub><mi>x</mi><mi>i</mi></msub><mo>∈</mo><mi>X</mi></mrow></munder><msub><mi>b</mi><mrow><mi>i</mi><mo separator=\"true\">,</mo><mi>j</mi></mrow></msub><msub><mi>x</mi><mi>i</mi></msub><mo>≥</mo><msub><mi>c</mi><mi>j</mi></msub><mtext>  </mtext><mi>w</mi><mi>i</mi><mi>t</mi><mi>h</mi><mtext>  </mtext><msub><mi>b</mi><mrow><mi>i</mi><mo separator=\"true\">,</mo><mi>j</mi></mrow></msub><mo separator=\"true\">,</mo><msub><mi>c</mi><mi>j</mi></msub><mo>∈</mo><mi mathvariant=\"double-struck\">R</mi></mrow><annotation encoding=\"application/x-tex\">\\forall j \\in J: \\sum_{x_i \\in X}b_{i,j}x_i \\geq c_j \\; with \\; b_{i,j}, c_j \\in \\mathbb{R}</annotation></semantics></math></span></div>\n<p>Integer programming problem:</p>\n<ul>\n<li>Minimize objective function subject to constraints</li>\n</ul>\n<!-- End of Notes Week 5 -->\n<!-- Beginning of Notes Week 6 -->\n<h4 id=\"example-for-partitioning\">Example for Partitioning</h4>\n<ul>\n<li>optimize for a load balanced system</li>\n</ul>\n<p>Scheduling:</p>\n<table>\n<thead>\n<tr>\n<th>Task</th>\n<th>t0</th>\n<th>t1</th>\n<th>t2</th>\n<th>t3</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Processor0</td>\n<td>1</td>\n<td>1</td>\n<td>0</td>\n<td>0</td>\n</tr>\n<tr>\n<td>Processor1</td>\n<td>0</td>\n<td>0</td>\n<td>1</td>\n<td>1</td>\n</tr>\n</tbody>\n</table>\n<p>Run Times:</p>\n<table>\n<thead>\n<tr>\n<th>Run time</th>\n<th>t0</th>\n<th>t1</th>\n<th>t2</th>\n<th>t3</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Processor0</td>\n<td>5</td>\n<td>15</td>\n<td>10</td>\n<td>30</td>\n</tr>\n<tr>\n<td>Processor1</td>\n<td>10</td>\n<td>20</td>\n<td>10</td>\n<td>10</td>\n</tr>\n</tbody>\n</table>\n<p>Cost <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>c</mi><mrow><mi>i</mi><mo separator=\"true\">,</mo><mi>k</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">c_{i,k}</annotation></semantics></math></span></span>:</p>\n<div class=\"math math-display\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mrow><mtable rowspacing=\"0.16em\" columnalign=\"center\" columnspacing=\"1em\"><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><msub><mi>c</mi><mrow><mn>0</mn><mo separator=\"true\">,</mo><mn>0</mn></mrow></msub><mo>=</mo><mn>5</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><msub><mi>c</mi><mrow><mn>0</mn><mo separator=\"true\">,</mo><mn>1</mn></mrow></msub><mo>=</mo><mn>10</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mo lspace=\"0em\" rspace=\"0em\">⋯</mo></mstyle></mtd></mtr></mtable><mo fence=\"true\">}</mo></mrow><mtable rowspacing=\"0.16em\" columnalign=\"center\" columnspacing=\"1em\"><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><mn>0</mn><mo>≤</mo><mi>i</mi><mo>≤</mo><mn>3</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><mn>0</mn><mo>≤</mo><mi>k</mi><mo>≤</mo><mn>1</mn></mrow></mstyle></mtd></mtr></mtable></mrow><annotation encoding=\"application/x-tex\">\\left.\\begin{matrix}\nc_{0,0} = 5 \\\\\nc_{0,1} = 10 \\\\\n\\cdots\n\\end{matrix}\\right\\}\n\\begin{matrix}\n0 \\leq i \\leq 3 \\\\\n0 \\leq k \\leq 1\n\\end{matrix}</annotation></semantics></math></span></div>\n<p>Binary variables <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>x</mi><mrow><mi>i</mi><mo separator=\"true\">,</mo><mi>k</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">x_{i,k}</annotation></semantics></math></span></span>:</p>\n<div class=\"math math-display\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mrow><mtable rowspacing=\"0.16em\" columnalign=\"center\" columnspacing=\"1em\"><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><msub><mi>x</mi><mrow><mn>0</mn><mo separator=\"true\">,</mo><mn>0</mn></mrow></msub><mo>+</mo><msub><mi>x</mi><mrow><mn>0</mn><mo separator=\"true\">,</mo><mn>1</mn></mrow></msub><mo>=</mo><mn>1</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><msub><mi>x</mi><mrow><mn>1</mn><mo separator=\"true\">,</mo><mn>0</mn></mrow></msub><mo>+</mo><msub><mi>x</mi><mrow><mn>1</mn><mo separator=\"true\">,</mo><mn>1</mn></mrow></msub><mo>=</mo><mn>1</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mo lspace=\"0em\" rspace=\"0em\">⋯</mo></mstyle></mtd></mtr></mtable><mo fence=\"true\">}</mo></mrow><munderover><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>0</mn></mrow><mn>1</mn></munderover><msub><mi>x</mi><mrow><mi>k</mi><mo separator=\"true\">,</mo><mi>i</mi></mrow></msub><mo>=</mo><mn>1</mn><mtext>  </mtext><mi mathvariant=\"normal\">∀</mi><mtext>  </mtext><mn>0</mn><mo>≤</mo><mi>i</mi><mo>≤</mo><mn>3</mn></mrow><annotation encoding=\"application/x-tex\">\\left.\\begin{matrix}\nx_{0,0} + x_{0,1} = 1 \\\\\nx_{1,0} + x_{1,1} = 1 \\\\\n\\cdots\n\\end{matrix}\\right\\}\n\\sum_{k=0}^1 x_{k,i} = 1\\; \\forall\\; 0 \\leq i \\leq 3</annotation></semantics></math></span></div>\n<h4 id=\"approaches\">Approaches</h4>\n<ol>\n<li>Approach:</li>\n</ol>\n<div class=\"math math-display\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>m</mi><mi>i</mi><mi>n</mi><mrow><mo fence=\"true\">{</mo><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><mn>3</mn></munderover><munderover><mo>∑</mo><mrow><mi>k</mi><mo>=</mo><mn>0</mn></mrow><mn>1</mn></munderover><msub><mi>c</mi><mrow><mi>i</mi><mo separator=\"true\">,</mo><mi>k</mi></mrow></msub><msub><mi>x</mi><mrow><mi>i</mi><mo separator=\"true\">,</mo><mi>k</mi></mrow></msub><mo fence=\"true\">}</mo></mrow></mrow><annotation encoding=\"application/x-tex\">min\\left \\{ \\sum_{i=0}^3 \\sum_{k=0}^1 c_{i,k} x_{i,k} \\right \\}</annotation></semantics></math></span></div>\n<p>2. Approach:</p>\n<div class=\"math math-display\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>m</mi><mi>i</mi><mi>n</mi><mrow><mo fence=\"true\">{</mo><mrow><mo fence=\"true\">∣</mo><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><mn>3</mn></munderover><msub><mi>c</mi><mrow><mi>i</mi><mo separator=\"true\">,</mo><mn>0</mn></mrow></msub><msub><mi>x</mi><mrow><mi>i</mi><mo separator=\"true\">,</mo><mn>0</mn></mrow></msub><mo>−</mo><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><mn>3</mn></munderover><msub><mi>c</mi><mrow><mi>i</mi><mo separator=\"true\">,</mo><mn>1</mn></mrow></msub><msub><mi>x</mi><mrow><mi>i</mi><mo separator=\"true\">,</mo><mn>1</mn></mrow></msub><mo fence=\"true\">∣</mo></mrow><mo fence=\"true\">}</mo></mrow></mrow><annotation encoding=\"application/x-tex\">min\\left \\{ \\left | \\sum_{i=0}^3  c_{i,0} x_{i,0} - \\sum_{i=0}^3 c_{i,1} x_{i,1} \\right |\\right \\}</annotation></semantics></math></span></div>\n<p>This is not a linear problem!</p>\n<h4 id=\"solutions\">Solutions</h4>\n<p>1. Solution:</p>\n<p>Solving 2 linear problems: split approach 2 into 2 linear problems:</p>\n<div class=\"math math-display\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>m</mi><mi>i</mi><mi>n</mi><mrow><mo fence=\"true\">{</mo><mrow><mo fence=\"true\">∣</mo><munder><munder><mrow><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><mn>3</mn></munderover><msub><mi>c</mi><mrow><mi>i</mi><mo separator=\"true\">,</mo><mn>0</mn></mrow></msub><msub><mi>x</mi><mrow><mi>i</mi><mo separator=\"true\">,</mo><mn>0</mn></mrow></msub></mrow><mo stretchy=\"true\">⏟</mo></munder><msub><mi>l</mi><mn>1</mn></msub></munder><mo>−</mo><munder><munder><mrow><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><mn>3</mn></munderover><msub><mi>c</mi><mrow><mi>i</mi><mo separator=\"true\">,</mo><mn>1</mn></mrow></msub><msub><mi>x</mi><mrow><mi>i</mi><mo separator=\"true\">,</mo><mn>1</mn></mrow></msub></mrow><mo stretchy=\"true\">⏟</mo></munder><msub><mi>l</mi><mn>2</mn></msub></munder><mo fence=\"true\">∣</mo></mrow><mo fence=\"true\">}</mo></mrow></mrow><annotation encoding=\"application/x-tex\">min \\left \\{ \\left | \\underbrace{\\sum_{i=0}^3  c_{i,0} x_{i,0}}_{l_1} - \\underbrace{\\sum_{i=0}^3 c_{i,1} x_{i,1}}_{l_2} \\right | \\right \\}</annotation></semantics></math></span></div>\n<p>Becomes:</p>\n<div class=\"math math-display\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mtable rowspacing=\"0.16em\" columnalign=\"center\" columnspacing=\"1em\"><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><msub><mi>l</mi><mn>0</mn></msub><mo>≥</mo><msub><mi>l</mi><mn>1</mn></msub><mo>:</mo><mi>m</mi><mi>i</mi><mi>n</mi><mrow><mo fence=\"true\">{</mo><msub><mi>l</mi><mn>0</mn></msub><mo>−</mo><msub><mi>l</mi><mn>1</mn></msub><mo fence=\"true\">}</mo></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><msub><mi>l</mi><mn>1</mn></msub><mo>≥</mo><msub><mi>l</mi><mn>0</mn></msub><mo>:</mo><mi>m</mi><mi>i</mi><mi>n</mi><mrow><mo fence=\"true\">{</mo><msub><mi>l</mi><mn>1</mn></msub><mo>−</mo><msub><mi>l</mi><mn>0</mn></msub><mo fence=\"true\">}</mo></mrow></mrow></mstyle></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\begin{matrix}\nl_0 \\geq l_1: min\\left \\{ l_0 - l_1 \\right \\} \\\\\nl_1 \\geq l_0: min\\left \\{ l_1 - l_0 \\right \\}\n\\end{matrix}</annotation></semantics></math></span></div>\n<p>2. Solution:</p>\n<p>Empirical approach: Run code and measure execution time and try to minimize it.</p>\n<p>Move tasks to different processors.</p>\n<div class=\"math math-display\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mtable rowspacing=\"0.16em\" columnalign=\"center\" columnspacing=\"1em\"><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><msub><mi>l</mi><mn>0</mn></msub><mo>=</mo><msub><mo>∑</mo><mrow><mo stretchy=\"false\">(</mo><mi>i</mi><mo stretchy=\"false\">)</mo></mrow></msub><msub><mi>c</mi><mrow><mi>i</mi><mo separator=\"true\">,</mo><mn>0</mn></mrow></msub><msub><mi>x</mi><mrow><mi>i</mi><mo separator=\"true\">,</mo><mn>0</mn></mrow></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><msub><mi>l</mi><mn>1</mn></msub><mo>=</mo><msub><mo>∑</mo><mrow><mo stretchy=\"false\">(</mo><mi>i</mi><mo stretchy=\"false\">)</mo></mrow></msub><msub><mi>c</mi><mrow><mi>i</mi><mo separator=\"true\">,</mo><mn>1</mn></mrow></msub><msub><mi>x</mi><mrow><mi>i</mi><mo separator=\"true\">,</mo><mn>1</mn></mrow></msub></mrow></mstyle></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\begin{matrix}\nl_0 = \\sum_{(i)}  c_{i,0} x_{i,0}\\\\\nl_1 = \\sum_{(i)}  c_{i,1} x_{i,1}\n\\end{matrix}</annotation></semantics></math></span></div>\n<div class=\"math math-display\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>m</mi><mi>i</mi><mi>n</mi><mo stretchy=\"false\">{</mo><mi>B</mi><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">min \\{ B \\}</annotation></semantics></math></span></div>\n<div class=\"math math-display\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mtable rowspacing=\"0.16em\" columnalign=\"center\" columnspacing=\"1em\"><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><mi>B</mi><mo>≥</mo><msub><mi>l</mi><mn>0</mn></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><mi>B</mi><mo>≥</mo><msub><mi>l</mi><mn>1</mn></msub></mrow></mstyle></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\begin{matrix}\nB \\geq l_0 \\\\\nB \\geq l_1\n\\end{matrix}</annotation></semantics></math></span></div>\n<h3 id=\"iterative-methods\">Iterative Methods</h3>\n<p>Often used principle:</p>\n<ul>\n<li>Start with some initial configuration (partitioning)</li>\n<li>search neighborhood (similar partitions)\n<ul>\n<li>select a neighbor as candidate</li>\n</ul>\n</li>\n<li>evaluate <em>fitness</em> (cost) function of candidate\n<ul>\n<li>accept candidate using acceptance rule</li>\n<li>if not, select another neighbor</li>\n</ul>\n</li>\n<li>Stop if:\n<ul>\n<li>Quality is sufficient or</li>\n<li>no improvement can be found or</li>\n<li>after a fixed time</li>\n</ul>\n</li>\n</ul>\n<p>Ingredients:</p>\n<ul>\n<li>initial configuration</li>\n<li>function to find a neighbor as candidate</li>\n<li>cost function</li>\n<li>acceptance rule</li>\n<li>stop criterion</li>\n</ul>\n<p>Disadvantages:</p>\n<ul>\n<li>local optimum as best result</li>\n<li>local optimum depends on initial configuration</li>\n<li>generally no upper bound on iteration length</li>\n</ul>\n<h4 id=\"kernighan-lin\">Kernighan-Lin</h4>\n<ul>\n<li>as long as a better partition is found\n<ul>\n<li>from all possible pairs of objects: <em>virtually</em> re-group the ‘best’ (lowest cost of resulting partition)</li>\n<li>from the remaining (not yet touched) objects: <em>virtually</em> re-group the ‘best’ pair</li>\n<li>continue until all objects have been re-grouped</li>\n<li>from these n/2 partitions, take the one with smallest cost and <em>actually</em> perform the corresponding re-group operation</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"simulated-annealing\">Simulated Annealing</h4>\n<ul>\n<li>inspired by physical process</li>\n<li>replace existing solutions by (random) new feasible solutions form neighborhood</li>\n<li>always accept better solutions but allow for a guided acceptance for worse neighbors</li>\n<li>gradually cooling: gradually decrease the probability of accepting worse solutions</li>\n</ul>\n<p>Advantage:</p>\n<ul>\n<li>Allowance for ‘uphill’ moves potentially avoids local optima</li>\n</ul>\n<p>Possible implementation:</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">temp <span class=\"token operator\">=</span> temp_start\ncost <span class=\"token operator\">=</span> c<span class=\"token punctuation\">(</span>P<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">while</span> Frozen<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token boolean\">False</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">while</span> Equilibrium<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token boolean\">False</span><span class=\"token punctuation\">:</span>\n        P_new <span class=\"token operator\">=</span> RandomMove<span class=\"token punctuation\">(</span>P<span class=\"token punctuation\">)</span>\n        cost_new <span class=\"token operator\">=</span> c<span class=\"token punctuation\">(</span>P_new<span class=\"token punctuation\">)</span>\n        deltacost <span class=\"token operator\">=</span> cost_new <span class=\"token operator\">-</span> cost\n        <span class=\"token keyword\">if</span> Accept<span class=\"token punctuation\">(</span>deltacost<span class=\"token punctuation\">,</span> temp<span class=\"token punctuation\">)</span> <span class=\"token operator\">></span> random<span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n            P <span class=\"token operator\">=</span> P_new\n            cost <span class=\"token operator\">=</span> cost_new\n        temp <span class=\"token operator\">=</span> DecreaseTemp<span class=\"token punctuation\">(</span>temp<span class=\"token punctuation\">)</span></code></pre></div>\n<p>Functions:</p>\n<p><code class=\"language-text\">RandomMove(P)</code>:</p>\n<ul>\n<li>Choose a random solution in the neighborhood of <code class=\"language-text\">P</code></li>\n</ul>\n<p><code class=\"language-text\">DecreaseTemp()</code>, <code class=\"language-text\">Frozen()</code>:</p>\n<ul>\n<li>Cooling down. There are different choices. For example:\n<ul>\n<li>initially: <code class=\"language-text\">temp := 1.0</code></li>\n<li>in any iteration: <code class=\"language-text\">temp := alpha * temp</code> (typically: 0.8 <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>≤</mo></mrow><annotation encoding=\"application/x-tex\">\\leq</annotation></semantics></math></span></span> <code class=\"language-text\">alpha</code> <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>≤</mo></mrow><annotation encoding=\"application/x-tex\">\\leq</annotation></semantics></math></span></span> 0.99)</li>\n</ul>\n</li>\n<li>Frozen\n<ul>\n<li>after a given time or</li>\n<li>if there is not further improvement</li>\n</ul>\n</li>\n</ul>\n<p><code class=\"language-text\">Equilibrium()</code>:</p>\n<ul>\n<li>Usually after a defined number of iterations</li>\n</ul>\n<p><code class=\"language-text\">Accept(deltacost, temp)</code>:</p>\n<ul>\n<li><span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>e</mi><mrow><mo>−</mo><mfrac><mrow><mi>d</mi><mi>e</mi><mi>l</mi><mi>t</mi><mi>a</mi><mi>c</mi><mi>o</mi><mi>s</mi><mi>t</mi></mrow><mrow><mi>k</mi><mo>⋅</mo><mi>t</mi><mi>e</mi><mi>m</mi><mi>p</mi></mrow></mfrac></mrow></msup></mrow><annotation encoding=\"application/x-tex\">e^{- \\frac{deltacost}{k \\cdot temp}}</annotation></semantics></math></span></span></li>\n</ul>\n<p>Complexity:</p>\n<ul>\n<li>From exponential to constant depending on</li>\n</ul>\n<p><code class=\"language-text\">Equilibrium()</code>, <code class=\"language-text\">DecreaseTemp()</code> and <code class=\"language-text\">Frozen()</code>.</p>\n<!-- End of Slides 4 -->\n<!-- Beginning of Slides 5 -->\n<h1 id=\"5-multi-criteria-optimization\">5. Multi-Criteria Optimization</h1>\n<p>Part of system synthesis.</p>\n<blockquote>\n<p><em>Exploration</em> of different solutions.</p>\n</blockquote>\n<h2 id=\"example-network-processors\">Example: Network Processors</h2>\n<p>Network processor: High-performance, programmable device designed to efficiently execute communication workloads</p>\n<ul>\n<li>Given:\n<ol>\n<li>Specification of the task structure (task model): tasks to be executed for each flow</li>\n<li>Different usage scenarios (flow model): sets of flows</li>\n</ol>\n</li>\n<li>Sought:\n<ul>\n<li>Network processor implementation: architecture + task mapping + scheduling</li>\n</ul>\n</li>\n<li>Objectives:\n<ol>\n<li>Maximize performance</li>\n<li>Minimize cost</li>\n</ol>\n</li>\n<li>Subject to:\n<ol>\n<li>Memory constraint</li>\n<li>Delay constraint</li>\n</ol>\n</li>\n</ul>\n<h2 id=\"basic-definition\">Basic Definition</h2>\n<ul>\n<li>We intend to minimize a <em>vector-valued</em> <em><strong>objective function</strong></em></li>\n</ul>\n<div class=\"math math-display\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>f</mi><mo>=</mo><mo stretchy=\"false\">(</mo><msub><mi>f</mi><mn>1</mn></msub><mo separator=\"true\">;</mo><msub><mi>f</mi><mn>2</mn></msub><mo separator=\"true\">;</mo><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mi mathvariant=\"normal\">.</mi><mo separator=\"true\">;</mo><msub><mi>f</mi><mi>n</mi></msub><mo stretchy=\"false\">)</mo><mo>:</mo><mi>X</mi><mo>→</mo><msup><mi>R</mi><mi>n</mi></msup></mrow><annotation encoding=\"application/x-tex\">f= (f_1; f_2; ... ; f_n): X \\rightarrow R^n</annotation></semantics></math></span></div>\n<ul>\n<li><span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>X</mi></mrow><annotation encoding=\"application/x-tex\">X</annotation></semantics></math></span></span> denotes the <strong>decision space</strong>. i.e the feasible set of alternatives for the optimization problem</li>\n<li>The image of the decision space <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>X</mi></mrow><annotation encoding=\"application/x-tex\">X</annotation></semantics></math></span></span> using the objective function <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>f</mi></mrow><annotation encoding=\"application/x-tex\">f</annotation></semantics></math></span></span> is denoted as the <strong>objective space</strong> <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>Z</mi><mo>⊂</mo><msup><mi>R</mi><mi>n</mi></msup></mrow><annotation encoding=\"application/x-tex\">Z \\subset R^n</annotation></semantics></math></span></span> with</li>\n</ul>\n<div class=\"math math-display\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>Z</mi><mo>=</mo><mo stretchy=\"false\">{</mo><mi>f</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo><mi mathvariant=\"normal\">∣</mi><mi>x</mi><mo>∈</mo><mi>X</mi><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">Z = \\{f(x) |x \\in X  \\}</annotation></semantics></math></span></div>\n<ul>\n<li>A single alternative <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi><mo>∈</mo><mi>X</mi></mrow><annotation encoding=\"application/x-tex\">x \\in X</annotation></semantics></math></span></span> is (sometimes) named <em>solution</em> and the corresponding object value <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>z</mi><mo>=</mo><mi>f</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo><mo>∈</mo><mi>Z</mi></mrow><annotation encoding=\"application/x-tex\">z = f(x) \\in Z</annotation></semantics></math></span></span> is named <em>objective vector</em></li>\n</ul>\n<blockquote>\n<p>decision space → objective space</p>\n</blockquote>\n<p>Basic question:</p>\n<p>How do we define the minimum of a vector-valued function?</p>\n<h2 id=\"pareto-dominance\">Pareto Dominance</h2>\n<p>Definition:</p>\n<p>A solution <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>a</mi><mo>∈</mo><mi>X</mi></mrow><annotation encoding=\"application/x-tex\">a \\in X</annotation></semantics></math></span></span> weakly <em>Pareto-dominates</em> a solution <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>b</mi><mo>∈</mo><mi>X</mi></mrow><annotation encoding=\"application/x-tex\">b \\in X</annotation></semantics></math></span></span>, denoted as <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>a</mi><mo>⪯</mo><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">a \\preceq  b</annotation></semantics></math></span></span>, if it is at least as good in\nall objectives, i.e:</p>\n<div class=\"math math-display\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msub><mi>f</mi><mi>i</mi></msub><mo stretchy=\"false\">(</mo><mi>a</mi><mo stretchy=\"false\">)</mo><mo>≤</mo><msub><mi>f</mi><mi>i</mi></msub><mo stretchy=\"false\">(</mo><mi>b</mi><mo stretchy=\"false\">)</mo><mtext>  </mtext><mi mathvariant=\"normal\">∀</mi><mn>1</mn><mo>≤</mo><mi>i</mi><mo>≤</mo><mi>n</mi></mrow><annotation encoding=\"application/x-tex\">f_i(a) \\leq f_i(b)\\; \\forall 1 \\leq i \\leq n</annotation></semantics></math></span></div>\n<ul>\n<li>Dominance is transitive</li>\n<li>A solution is named <em>Pareto-optimal</em>, if it’s not Pareto-dominated by any other solution in <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>X</mi></mrow><annotation encoding=\"application/x-tex\">X</annotation></semantics></math></span></span></li>\n</ul>\n<h3 id=\"optimization-alternatives\">Optimization Alternatives</h3>\n<ul>\n<li>Classical single objective optimization methods\n<ul>\n<li>Simulated annealing</li>\n<li>Integer linear program</li>\n<li>other constructive or iterative heuristic methods</li>\n</ul>\n</li>\n</ul>\n<p>→ Decision making is done before the optimization</p>\n<ul>\n<li>Population based optimization methods\n<ul>\n<li>Evolutionary / genetic algorithms</li>\n</ul>\n</li>\n</ul>\n<p>→ Decision making is done after the optimization</p>\n<h3 id=\"evolutionary-algorithms\">Evolutionary Algorithms</h3>\n<p>Basic scheme (many variations exist):</p>\n<ol>\n<li>A set of initial solution (initial population is chosen (usually at random). This set is called <em>parent</em> set.</li>\n<li>Solutions form <em>parent</em> set are selected (<em>mating selection</em>)</li>\n<li>Solutions from <em>mating selection</em> are changed using neighborhood operators (<em>cross-over</em> and <em>mutation</em> operators). The resulting set is called <em>children</em> set.</li>\n<li>Determine union of the <em>parent</em> and the <em>children</em> sets</li>\n<li>Solutions of the set from 4. are selected based on their merit to construct the new <em>parent</em> set (<em>environmental selection</em>).</li>\n<li>continue at 2.</li>\n</ol>\n<p><img src=\"/bd252ad93f521f548ee375de78578231/hscd_evolutionary_algorithm.svg\" alt=\"Evolutionary Algorithm\"></p>\n<ul>\n<li>Cross-over operator: Take best parts of two solutions</li>\n<li>Mutation operator: same as in simulated annealing (make small variations)</li>\n<li>How to choose solutions that should be removed from the population\n<ul>\n<li>Solutions should be ‘close’ to the (unknown) Pareto-optimal front (optimality)</li>\n<li>Solutions should cover large parts of the objective space (diversity)</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"hypervolume-indicator\">Hypervolume Indicator</h4>\n<ul>\n<li>Environmental selection:\n<ul>\n<li>Select subset of solutions that <em>maximizes hypervolume indicator</em></li>\n</ul>\n</li>\n</ul>\n<p>Given a set of solutions <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi><mo>⊆</mo><mi>X</mi></mrow><annotation encoding=\"application/x-tex\">A \\subseteq X</annotation></semantics></math></span></span> and a set of <em>reference points</em> <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi><mo>⊂</mo><msup><mi mathvariant=\"double-struck\">R</mi><mi>n</mi></msup></mrow><annotation encoding=\"application/x-tex\">R \\subset \\mathbb{R}^n</annotation></semantics></math></span></span>. Then the\n<em>hypervolume indicator</em> <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>I</mi><mi>H</mi></msub><mo stretchy=\"false\">(</mo><mi>A</mi><mo separator=\"true\">,</mo><mi>R</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">I_H(A,R)</annotation></semantics></math></span></span> of <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A</annotation></semantics></math></span></span> with respect to <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi></mrow><annotation encoding=\"application/x-tex\">R</annotation></semantics></math></span></span> is defined as</p>\n<div class=\"math math-display\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msub><mi>I</mi><mi>H</mi></msub><mo stretchy=\"false\">(</mo><mi>A</mi><mo separator=\"true\">,</mo><mi>R</mi><mo stretchy=\"false\">)</mo><mo>=</mo><msub><mo>∫</mo><mrow><mi>z</mi><mo>∈</mo><mi>H</mi><mo stretchy=\"false\">(</mo><mi>A</mi><mo separator=\"true\">,</mo><mi>R</mi><mo stretchy=\"false\">)</mo></mrow></msub><mi>d</mi><mi>z</mi></mrow><annotation encoding=\"application/x-tex\">I_H(A,R) = \\int_{z \\in H(A,R)} dz</annotation></semantics></math></span></div>\n<p>where <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>H</mi><mo stretchy=\"false\">(</mo><mi>A</mi><mo separator=\"true\">,</mo><mi>R</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">H(A,R)</annotation></semantics></math></span></span> id the dominated space of <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A</annotation></semantics></math></span></span> regarding <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi></mrow><annotation encoding=\"application/x-tex\">R</annotation></semantics></math></span></span>:</p>\n<div class=\"math math-display\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>H</mi><mo stretchy=\"false\">(</mo><mi>A</mi><mo separator=\"true\">,</mo><mi>R</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mo stretchy=\"false\">{</mo><mi>z</mi><mo>∈</mo><msup><mi mathvariant=\"double-struck\">R</mi><mi>n</mi></msup><mi mathvariant=\"normal\">∣</mi><mi mathvariant=\"normal\">∃</mi><mi>a</mi><mo>∈</mo><mi>A</mi><mo>:</mo><mi mathvariant=\"normal\">∃</mi><mi>r</mi><mo>∈</mo><mi>R</mi><mo>:</mo><mo stretchy=\"false\">(</mo><mi>f</mi><mo stretchy=\"false\">(</mo><mi>a</mi><mo stretchy=\"false\">)</mo><mo>≤</mo><mi>z</mi><mo>≤</mo><mi>r</mi><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">H(A,R) = \\{ z \\in \\mathbb{R}^n | \\exists a \\in A : \\exists r \\in R : (f(a) \\leq z \\leq r) \\}</annotation></semantics></math></span></div>\n<p><span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>z</mi></mrow><annotation encoding=\"application/x-tex\">z</annotation></semantics></math></span></span>: Objective</p>\n<ul>\n<li>The hypervolume indicator leads to <em>diversity</em> and <em>optimality</em></li>\n</ul>\n<h4 id=\"representation-and-neighborhood\">Representation and Neighborhood</h4>\n<ul>\n<li>A <em>representation</em> corresponds to an <em>abstract data</em> that encodes a <em>solution</em></li>\n<li><em>Neighborhood operators</em> work on <em>representations</em></li>\n</ul>\n<p>Issues:</p>\n<ul>\n<li>Each solution has an encoding (completeness)</li>\n<li>All solutions are represented equally often (uniformity)</li>\n<li>Each encoding maps to a feasible solution (feasibility)</li>\n</ul>\n<p>Encoding: i.e order of tasks executing to explore scheduling.</p>\n<!-- End of Notes Week 7 -->\n<h4 id=\"tree-representation\">Tree Representation</h4>\n<ul>\n<li>Solutions can be represented as tree structures</li>\n<li>Mutation:\n<ul>\n<li>Grow subtree</li>\n<li>Shrink subtree</li>\n<li>Switch two subtrees</li>\n<li>Replace subtree</li>\n<li>Subtrees can be single nodes</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"handling-constraints\">Handling Constraints</h4>\n<p>Constraint: <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>g</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo><mo>≥</mo><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">g(x) \\geq 0</annotation></semantics></math></span></span></p>\n<ul>\n<li>Feasible: <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>g</mi><mo>≥</mo><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">g \\geq 0</annotation></semantics></math></span></span></li>\n<li>Infeasible: <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>g</mi><mo>&#x3C;</mo><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">g &#x3C; 0</annotation></semantics></math></span></span></li>\n</ul>\n<p>Approaches:</p>\n<ol>\n<li>Representation is chosen such that decoding always yields a feasible solution</li>\n<li>Construct initialization and neighborhood operators such that Infeasible solutions are not generated</li>\n<li>Add only feasible solutions to children population</li>\n<li>Preferably select feasible solutions in environmental selection</li>\n<li>Penalty function:\n<ul>\n<li>Calculate constraint violation <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>g</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">g(x)</annotation></semantics></math></span></span> and incorporate it into objective function</li>\n<li><span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>p</mi><mi>e</mi><mi>n</mi><mi>a</mi><mi>l</mi><mi>t</mi><mi>y</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo><mo>></mo><mn>0</mn><mtext>  </mtext><mi>i</mi><mi>f</mi><mi>g</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo><mo>&#x3C;</mo><mn>0</mn><mo separator=\"true\">,</mo><mtext>  </mtext><mi>p</mi><mi>e</mi><mi>n</mi><mi>a</mi><mi>l</mi><mi>t</mi><mi>y</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mn>0</mn><mtext>  </mtext><mi>i</mi><mi>f</mi><mi>g</mi><mo stretchy=\"false\">(</mo><mi>x</mi><mo stretchy=\"false\">)</mo><mo>≥</mo><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">penalty(x) > 0\\; if g(x) &#x3C; 0,\\; penalty(x) = 0\\; if g(x) \\geq 0</annotation></semantics></math></span></span></li>\n<li>i.e add penalty function to every objective (increase ‘price’ for Infeasible solutions)</li>\n</ul>\n</li>\n<li>Include the constraints as new objectives</li>\n</ol>\n<h1 id=\"6-system-simulation\">6. System Simulation</h1>\n<p>Estimation with simulation.</p>\n<p>Estimation: find out if a solution is good or bad.</p>\n<h2 id=\"system-and-model\">System and Model</h2>\n<ul>\n<li>System: Combination of components that act together</li>\n<li>Model: Formal description of the system (covers selected information)</li>\n</ul>\n<h2 id=\"state\">State</h2>\n<ul>\n<li>Contains all information of the system at <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>t</mi><mn>0</mn></msub></mrow><annotation encoding=\"application/x-tex\">t_0</annotation></semantics></math></span></span> that is necessary to determine the output (for <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>t</mi><mo>≥</mo><msub><mi>t</mi><mn>0</mn></msub></mrow><annotation encoding=\"application/x-tex\">t \\geq t_0</annotation></semantics></math></span></span>) from the input (at (at <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>t</mi><mo>≥</mo><msub><mi>t</mi><mn>0</mn></msub></mrow><annotation encoding=\"application/x-tex\">t \\geq t_0</annotation></semantics></math></span></span>).</li>\n</ul>\n<blockquote>\n<p>Input + State = Output</p>\n</blockquote>\n<ul>\n<li>The set <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>X</mi></mrow><annotation encoding=\"application/x-tex\">X</annotation></semantics></math></span></span> of all possible states of a system is called it’s <em>state space</em></li>\n</ul>\n<h2 id=\"discretecontinuous-systems\">Discrete/Continuous Systems</h2>\n<p>Examples:</p>\n<ul>\n<li>Continuous state systems:\n<ul>\n<li>Physical processes (usually)</li>\n<li>Electrical networks</li>\n<li>Mechanical systems</li>\n</ul>\n</li>\n<li>Discrete state systems\n<ul>\n<li>Finite state machines</li>\n<li>Queuing systems</li>\n<li>Computer systems</li>\n</ul>\n</li>\n<li>Continuous time systems\n<ul>\n<li>Physical processes (usually)</li>\n<li>Electrical circuits</li>\n<li>Asynchronous systems</li>\n</ul>\n</li>\n<li>Discrete time systems\n<ul>\n<li>Digital clocked system</li>\n<li>Equidistant sampling (z-transform)</li>\n<li>Synchronous system models</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"discrete-event-systems-des\">Discrete Event Systems (DES)</h3>\n<ul>\n<li>\n<p>Driven by events</p>\n</li>\n<li>\n<p>Event: <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>e</mi><mo>=</mo><mo stretchy=\"false\">(</mo><mi>v</mi><mo separator=\"true\">,</mo><mi>t</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">e = (v, t)</annotation></semantics></math></span></span> is a touple of a value <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>v</mi></mrow><annotation encoding=\"application/x-tex\">v</annotation></semantics></math></span></span> and a tag <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>t</mi></mrow><annotation encoding=\"application/x-tex\">t</annotation></semantics></math></span></span></p>\n<ul>\n<li>Tags are usually totally ordered</li>\n<li>If the tag denotes <em>time</em>, then the event is a <em>timed event</em></li>\n<li>If the tag (only) denotes a <em>sequence number</em>, the event is an <em>untimed event</em></li>\n</ul>\n</li>\n<li>\n<p>DES is an event-driven system</p>\n<ul>\n<li>Depends entirely on occurrence of discrete events</li>\n<li>Does <em>not</em> depend on evolution of time</li>\n</ul>\n</li>\n<li>\n<p>Can be defined in <em>continuous</em> of <em>discrete time</em></p>\n</li>\n<li>\n<p>The <em>state space</em> <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>X</mi></mrow><annotation encoding=\"application/x-tex\">X</annotation></semantics></math></span></span> can be either discrete or continuous</p>\n</li>\n<li>\n<p><em>Signals</em> or <em>streams</em> represent ordering/timing of events</p>\n</li>\n<li>\n<p><em>Processes</em> are represented as functions acting on signals or streams</p>\n</li>\n</ul>\n<h4 id=\"simulation\">Simulation</h4>\n<ul>\n<li>\n<p>Discrete-time, time-driven</p>\n<ul>\n<li>Simulated time is partitioned into equidistant time intervals</li>\n<li>Length of time intervals determined by\n<ul>\n<li>The simulated system (i.e clock period)</li>\n<li>The intended precision (dicretization loss)</li>\n<li>The simulation effort</li>\n</ul>\n</li>\n<li>A simulation step is performed <em>even if nothing happens</em></li>\n</ul>\n</li>\n<li>\n<p>Event-driven simulation</p>\n<ul>\n<li>State change only at events</li>\n<li>Analysis and simulation possible in <em>discrete</em> or <em>continuous</em> time</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"discrete-event-modeling-and-simulation\">Discrete-Event Modeling and Simulation</h4>\n<ul>\n<li>Concurrent processes are modeled using modules\n<ul>\n<li><em>Behavior</em> described as logic/algebraic expressions</li>\n<li><em>State</em> described using persistent variables (inside module)</li>\n<li><em>Communication</em> between modules through ports, via signals</li>\n<li><em>Synchronization</em> through abstract events</li>\n</ul>\n</li>\n<li>Modules can be hierarchical</li>\n<li>Event-Driven</li>\n</ul>\n<h5 id=\"components-of-discrete-event-simulation\">Components of Discrete-Event Simulation</h5>\n<ul>\n<li>Simulation time\n<ul>\n<li>Simulation clock represents the current value of simulation time</li>\n<li>In discrete-event simulations the clock advances to the <em>next event start-time</em> during simulation</li>\n</ul>\n</li>\n<li>Event list\n<ul>\n<li>Events are processed in order</li>\n<li>Event list is typically organized as priority queue</li>\n<li>Event lists may include simulation times when events will happen</li>\n</ul>\n</li>\n<li>System modules\n<ul>\n<li>Model subsystems of simulated system</li>\n<li>Are called by simulation engine if a relevant event is scheduled</li>\n</ul>\n</li>\n</ul>\n<h5 id=\"simulation-engine\">Simulation Engine</h5>\n<ol>\n<li>Initialization routine\n<ul>\n<li>Initialize the simulation model;\n<ul>\n<li>Set initial states of subsystem modules</li>\n<li>Fill the event queue with initial events</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Timing routine\n<ul>\n<li>Determine <em>next event</em> from the event queue</li>\n<li>Advance the simulation clock to the time when the event occurs</li>\n</ul>\n</li>\n<li>Event routine\n<ul>\n<li>Update <em>system state</em> when event occurs</li>\n</ul>\n</li>\n</ol>\n<ul>\n<li>In a simulation cycle ‘cause’ and ‘effect’ can share the same time of occurrence\n<ul>\n<li>Use <em>zero duration virtual time interval</em> called <strong>delta cycle</strong> (<span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>δ</mi></mrow><annotation encoding=\"application/x-tex\">\\delta</annotation></semantics></math></span></span>)</li>\n</ul>\n</li>\n</ul>\n<!-- End of Notes Week 8 (morning) -->\n<!-- Beginning of Notes Week 8 (afternoon) -->\n<h2 id=\"systemc\">SystemC</h2>\n<ul>\n<li>System-level modeling language\n<ul>\n<li>Several levels of abstractions\n<ul>\n<li>from purely functional</li>\n<li>to cycle-accurate/pin-accurate</li>\n</ul>\n</li>\n<li>Special attention to systems with embedded software</li>\n</ul>\n</li>\n<li>C++ library for modeling concurrent systems\n<ul>\n<li>HW-oriented data types</li>\n<li>Communication mechanisms</li>\n<li>Concurrency modeling</li>\n</ul>\n</li>\n<li><em>Event-driven</em> simulation kernel for executing models</li>\n<li>Free (open source)</li>\n<li>For Windows, Linux, OS X…</li>\n</ul>\n<h3 id=\"language-architecture\">Language Architecture</h3>\n<ul>\n<li>Core language\n<ul>\n<li>Minimal set of modeling constructs\n<ul>\n<li>structural description</li>\n<li>concurrency</li>\n<li>communication</li>\n<li>synchronization</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Data types (separated from core language)</li>\n<li>On top of core language\n<ul>\n<li>Communication mechanism (signals, FIFO…)</li>\n<li>Models of Computation (MoCs)</li>\n</ul>\n</li>\n<li>Layer (tier) architecture</li>\n</ul>\n<h3 id=\"processes\">Processes</h3>\n<p>Processes are the basic units of functionality.</p>\n<ul>\n<li><code class=\"language-text\">SC_THREAD</code>s\n<ul>\n<li>Typically called once, run forever (in a <code class=\"language-text\">while(true)</code> loop)</li>\n<li>Can be suspended by calling <code class=\"language-text\">wait()</code></li>\n<li>Keep the state of execution implicitly</li>\n</ul>\n</li>\n<li><code class=\"language-text\">SC_METHOD</code>s\n<ul>\n<li>Execute repeatedly from the beginning to end</li>\n<li>Simulate faster</li>\n<li>Do <em>not</em> keep the state of execution implicitly</li>\n</ul>\n</li>\n<li>Processes must be contained in a module\n<ul>\n<li>Bun not every member function is a process</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"modules\">Modules</h3>\n<ul>\n<li>Building blocks of models\n<ul>\n<li>Hierarchy</li>\n<li>Abstraction</li>\n<li>IP reuse</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"inter-process-communication\">Inter Process Communication</h3>\n<ul>\n<li>Processes can communicate directly trough <em>signals</em></li>\n<li><em>Events</em>: Flexible, low-level synchronization primitive</li>\n<li><em>Channel</em>:\n<ul>\n<li>Container for <em>communication</em> and <em>synchronization</em>\n<ul>\n<li>can have state (private data), transport data, transport events</li>\n</ul>\n</li>\n<li>Implement one or more <em>interfaces</em></li>\n</ul>\n</li>\n<li><em>Interface</em>:\n<ul>\n<li>Set of access methods to the channel</li>\n<li>Interface methods need to be implemented</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"wait-and-notify\">Wait and Notify</h3>\n<ul>\n<li><code class=\"language-text\">wait</code>: halt process until an extent is raised\n<ul>\n<li><code class=\"language-text\">wait()</code> with arguments → dynamic sensitivity\n<ul>\n<li><code class=\"language-text\">wait(sc_event)</code></li>\n<li><code class=\"language-text\">wait(time)</code></li>\n<li><code class=\"language-text\">wait(timeout, sc_event)</code></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><code class=\"language-text\">notify</code>: rise an event\n<ul>\n<li><code class=\"language-text\">notify()</code> with arguments → delayed notification\n<ul>\n<li><code class=\"language-text\">my_event.notify();</code>: notify immediately</li>\n<li><code class=\"language-text\">my_event.notify(SC_ZERO_TIME);</code>: notify next delta cycle</li>\n<li><code class=\"language-text\">my_event.notify(time);</code>: notify after ‘time’</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"levels-of-abstractions\">Levels of Abstractions</h2>\n<p>Simulation can be done on different levels of abstraction.</p>\n<ul>\n<li>Functional level (untimed/timed)\n<ul>\n<li>Use: Model (un-)timed functionality</li>\n<li>Communication: shared variables, messages</li>\n<li>Typical languages: C/C++, Matlab</li>\n</ul>\n</li>\n<li>Transaction level\n<ul>\n<li>Use:\n<ul>\n<li>MPSoC architecture analysis</li>\n<li>Early SW development</li>\n<li>Timing estimation</li>\n</ul>\n</li>\n<li>Communication: method calls to channels</li>\n<li>Typical languages: SystemC</li>\n</ul>\n</li>\n<li>Register transfer level / Pin level\n<ul>\n<li>Use: HW design and verification</li>\n<li>Communication: wires and registers</li>\n<li>Typical languages: Verilog, VHDL</li>\n</ul>\n</li>\n</ul>\n<h1 id=\"7-design-space-exploration\">7. Design Space Exploration</h1>\n<h2 id=\"example-network-processor-np\">Example: Network Processor (NP)</h2>\n<ul>\n<li>Different processing units: ARM9, DSP, …</li>\n<li>Streams: ordered sequence of tasks</li>\n</ul>\n<h3 id=\"optimal-design-of-network-processor\">Optimal Design of Network Processor</h3>\n<p><span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>T</mi></mrow><annotation encoding=\"application/x-tex\">T</annotation></semantics></math></span></span>: Tasks\n<span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>w</mi></mrow><annotation encoding=\"application/x-tex\">w</annotation></semantics></math></span></span>: Requests\n<span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>M</mi></mrow><annotation encoding=\"application/x-tex\">M</annotation></semantics></math></span></span>: Mapping\n<span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi></mrow><annotation encoding=\"application/x-tex\">R</annotation></semantics></math></span></span>: Resources\n<span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>c</mi></mrow><annotation encoding=\"application/x-tex\">c</annotation></semantics></math></span></span>: Cost</p>\n<ul>\n<li>Mappings: <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>M</mi><mo>⊆</mo><mi>T</mi><mo>×</mo><mi>R</mi></mrow><annotation encoding=\"application/x-tex\">M \\subseteq T \\times R</annotation></semantics></math></span></span> all possible bindings of tasks\n<ul>\n<li>i.e if <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>t</mi><mo separator=\"true\">,</mo><mi>r</mi><mo stretchy=\"false\">)</mo><mo>∈</mo><mi>M</mi></mrow><annotation encoding=\"application/x-tex\">(t,r) \\in M</annotation></semantics></math></span></span> then task <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>t</mi></mrow><annotation encoding=\"application/x-tex\">t</annotation></semantics></math></span></span> could be executed on resource <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi></mrow><annotation encoding=\"application/x-tex\">r</annotation></semantics></math></span></span></li>\n</ul>\n</li>\n<li>Request <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>w</mi><mo stretchy=\"false\">(</mo><mi>r</mi><mo separator=\"true\">,</mo><mi>t</mi><mo stretchy=\"false\">)</mo><mo>≥</mo><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">w(r,t) \\geq 0</annotation></semantics></math></span></span>\n<ul>\n<li>i.e execution of one packet in <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>t</mi></mrow><annotation encoding=\"application/x-tex\">t</annotation></semantics></math></span></span> would use <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>w</mi></mrow><annotation encoding=\"application/x-tex\">w</annotation></semantics></math></span></span> computing units of <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi></mrow><annotation encoding=\"application/x-tex\">r</annotation></semantics></math></span></span></li>\n</ul>\n</li>\n<li>Resource allocation cost <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>c</mi><mo stretchy=\"false\">(</mo><mi>r</mi><mo stretchy=\"false\">)</mo><mo>≥</mo><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">c(r) \\geq 0</annotation></semantics></math></span></span></li>\n<li>Binding <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>Z</mi></mrow><annotation encoding=\"application/x-tex\">Z</annotation></semantics></math></span></span> of tasks to resources <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>Z</mi><mo>⊆</mo><mi>M</mi></mrow><annotation encoding=\"application/x-tex\">Z \\subseteq M</annotation></semantics></math></span></span>\n<ul>\n<li>leading to actual implementation</li>\n<li>Subset of mappings <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>M</mi></mrow><annotation encoding=\"application/x-tex\">M</annotation></semantics></math></span></span> s.t every task <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>t</mi><mo>∈</mo><mi>T</mi></mrow><annotation encoding=\"application/x-tex\">t \\in T</annotation></semantics></math></span></span> is bound to <em>exactly one</em> allocated resource\n<ul>\n<li><span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>e</mi><mo>∈</mo><mi>R</mi><mi>a</mi><mi>l</mi><mi>l</mi><mi>o</mi><mi>c</mi><mo stretchy=\"false\">(</mo><mi>r</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">e \\in R alloc(r) = 1</annotation></semantics></math></span></span> and</li>\n<li><span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>r</mi><mo>=</mo><mi>b</mi><mi>i</mi><mi>n</mi><mi>d</mi><mo stretchy=\"false\">(</mo><mi>t</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">r = bind(t)</annotation></semantics></math></span></span></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"design-constraints\">Design constraints</h4>\n<ul>\n<li>Delay constraints: e.g max time a packet is processed within network processor</li>\n<li>Throughput maximization: e.g packets per second</li>\n<li>Cost minimization: implementing with small amount of resources (processing units, memory, networks…)</li>\n<li>And conflicting usage scenarios …</li>\n</ul>\n<h3 id=\"np-design-space-exploration\">NP Design Space Exploration</h3>\n<ul>\n<li>Allocation: determine HW components</li>\n<li>Binding: For each SW process choose allocated HW unit</li>\n<li>Scheduling: For tasks on specific resources choose scheduling policy</li>\n</ul>\n<h2 id=\"performance-estimation\">Performance Estimation</h2>\n<p>Global Picture</p>\n<h3 id=\"metric\">Metric</h3>\n<ul>\n<li>Time</li>\n<li>Power</li>\n<li>Area (integration on silicon)</li>\n<li>Cost</li>\n<li>Quality</li>\n<li>SNR</li>\n<li>…</li>\n</ul>\n<h3 id=\"method\">Method</h3>\n<ul>\n<li>Analytic</li>\n<li>Simulation</li>\n<li>Statistic</li>\n</ul>\n<h3 id=\"abstraction-level\">Abstraction Level</h3>\n<ul>\n<li>Low-level: Register Transfer Level, Instruction Set Architecture</li>\n<li>Intermediary-level: Transaction Level-Model, Operating System, already linked to HW</li>\n<li>High-level: Functional, High-level language, independent of HW</li>\n</ul>\n<h3 id=\"subsystem-to-analyze\">Subsystem to Analyze</h3>\n<ul>\n<li>HW subsystem</li>\n<li>CPU subsystem</li>\n<li>Interconnect subsystem</li>\n<li>Multiprocessor System-on-Chip (MPSoC)</li>\n</ul>\n<h2 id=\"performance-estimation-in-design-flow\">Performance Estimation in Design Flow</h2>\n<ul>\n<li>High-level\n<ul>\n<li>Advantages:\n<ul>\n<li>Short estimation time (fast)</li>\n<li>Implementation details not necessary</li>\n</ul>\n</li>\n<li>Drawbacks:\n<ul>\n<li>Limited accuracy</li>\n<li>e.g no information about timing</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Low-level\n<ul>\n<li>Advantages:\n<ul>\n<li>Higher accuracy</li>\n</ul>\n</li>\n<li>Drawbacks:\n<ul>\n<li>Long estimation time (slow)</li>\n<li>Many implementation details need to be known</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"multi-processor-system-on-chip\">Multi-Processor System-on-Chip</h2>\n<p>Simulation should be divided in to independent modules.\nSo they can be exchanged.</p>\n<p>Composable in terms of:</p>\n<ul>\n<li>Subsystems</li>\n<li>Interactions</li>\n<li>Computation</li>\n<li>Communication</li>\n<li>Memory</li>\n<li>Scheduling</li>\n</ul>\n<p>Estimation should cover different metrics e.g:</p>\n<ul>\n<li>Delays</li>\n<li>Throughput</li>\n<li>Memory consumption</li>\n<li>Power</li>\n<li>Energy</li>\n<li>Temperature</li>\n<li>Cost</li>\n<li>…</li>\n</ul>\n<h3 id=\"communication\">Communication</h3>\n<ul>\n<li>Bus</li>\n<li>Network</li>\n<li>Hierarchical Bus</li>\n</ul>\n<h3 id=\"computation-and-memory\">Computation and Memory</h3>\n<ul>\n<li>DRAM</li>\n<li>SDRAM</li>\n<li>DSP</li>\n<li>RISC</li>\n<li>FPGA</li>\n<li>muC</li>\n<li>HW</li>\n</ul>\n<h3 id=\"scheduling-and-arbitration\">Scheduling and Arbitration</h3>\n<ul>\n<li>TDMA</li>\n<li>EDF</li>\n<li>FCFS</li>\n<li>proportional share</li>\n<li>fixed priority</li>\n<li>static</li>\n</ul>\n<h3 id=\"difficulty\">Difficulty</h3>\n<p>Why is MPSoC performance estimation difficult?</p>\n<ul>\n<li>Computation, communication and memory\n<ul>\n<li>Non-deterministic computation in processing nodes</li>\n<li>Non-deterministic communication delays</li>\n<li>Non-deterministic memory access</li>\n<li>Complex resource interaction via scheduling/arbitration</li>\n</ul>\n</li>\n<li>Cyclic timing dependencies\n<ul>\n<li>Internal data streams interact on computation and communication resources</li>\n<li>Interaction determines stream characteristics</li>\n</ul>\n</li>\n<li>Uncertain environment\n<ul>\n<li>Different load scenarios</li>\n<li>Unknown, worst case inputs</li>\n</ul>\n</li>\n</ul>\n<blockquote>\n<p>Making one component faster can make the complete system slower!</p>\n</blockquote>\n<p>If a component is replaced with a faster one it could block shared resources (e.g bus)\nfor other components.</p>\n<h2 id=\"abstraction\">Abstraction</h2>\n<ul>\n<li>Technology: transistors, layouts</li>\n<li>Signal: gate, schematic, RTL</li>\n<li>Transaction: SW, HW systems</li>\n<li>Tokens: SW tasks, comm. backbones, IPs</li>\n<li>Simulators:\n<ul>\n<li>SPICE</li>\n<li>VHDL</li>\n<li>SystemC / Instruction Set Simulator</li>\n<li>…</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"performance-estimation-methods\">Performance Estimation Methods</h2>\n<p>How to evaluate a system?</p>\n<ul>\n<li>Measurements\n<ul>\n<li>Use existing instance of the system to measure performance</li>\n</ul>\n</li>\n<li>Simulation\n<ul>\n<li>Develop a program which implements a model of the system and evaluate performance by running the program</li>\n</ul>\n</li>\n<li>Statistics\n<ul>\n<li>Develop a statistical abstraction of the system and derive statistic performance via analysis or simulation</li>\n</ul>\n</li>\n<li>Formal analysis\n<ul>\n<li>Develop a mathematical abstraction of the system and compute formulas which describe the system performance</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"static-analysis-models\">Static Analysis Models</h3>\n<ul>\n<li>Describe computing, communication and memory resources by <em>algebraic equations</em></li>\n<li>Describe system properties by <em>parameters</em> (e.g data rate)</li>\n<li>Combine relations</li>\n</ul>\n<div class=\"math math-display\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>c</mi><mi>o</mi><mi>m</mi><mi>m</mi><mi mathvariant=\"normal\">_</mi><mi>d</mi><mi>e</mi><mi>l</mi><mi>a</mi><mi>y</mi><mo>=</mo><mrow><mo fence=\"true\">⌈</mo><mfrac><mrow><mi mathvariant=\"normal\">#</mi><mi>w</mi><mi>o</mi><mi>r</mi><mi>d</mi><mi>s</mi></mrow><mrow><mi>b</mi><mi>u</mi><mi>r</mi><mi>s</mi><mi>t</mi><mi mathvariant=\"normal\">_</mi><mi>s</mi><mi>i</mi><mi>z</mi><mi>e</mi></mrow></mfrac><mo fence=\"true\">⌉</mo></mrow><mo>⋅</mo><mi>c</mi><mi>o</mi><mi>m</mi><mi>m</mi><mi mathvariant=\"normal\">_</mi><mi>t</mi><mi>i</mi><mi>m</mi><mi>e</mi></mrow><annotation encoding=\"application/x-tex\">comm\\_delay= \\left \\lceil \\frac{\\# words}{burst\\_size}  \\right \\rceil \\cdot comm\\_time</annotation></semantics></math></span></div>\n<ul>\n<li>Fast and simple estimation</li>\n<li>But generally inaccurate modeling (e.g resource sharing not modeled)</li>\n</ul>\n<h3 id=\"dynamic-analytic-models\">Dynamic Analytic Models</h3>\n<ul>\n<li>Combination between\n<ul>\n<li><em>Static models</em> possibly extended by non-determinism in run-time and event processing</li>\n<li><em>Dynamic models</em> for describing e.g resource sharing mechanism (scheduling and arbitration)</li>\n</ul>\n</li>\n<li>Existing approaches\n<ul>\n<li>Classical real-time scheduling theory</li>\n<li>Stochastic queuing theory (statistical bounds)</li>\n<li>Analytic (non-deterministic) queuing theory (worst-/best-case bounds)</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"stochastic-queuing-systems\">Stochastic Queuing Systems</h4>\n<ul>\n<li>A stochastic model for queuing systems is described by probability density functions (distributions) of\n<ul>\n<li>Arrival rates</li>\n<li>Service mechanisms</li>\n<li>Queuing disciplines</li>\n</ul>\n</li>\n<li>Performance measures are stochastic values (functions)\n<ul>\n<li>Average delays in queue</li>\n<li>Time-average number of customers in queue</li>\n<li>Proportion of time servers is busy</li>\n</ul>\n</li>\n</ul>\n<p><a href=\"https://en.wikipedia.org/wiki/Markov_chain\">Markovian (exponential) distribution</a></p>\n<h4 id=\"worst-casebest-case-queuing-systems\">Worst-Case/Best-Case Queuing Systems</h4>\n<ul>\n<li>A worst-/best-case queuing system is described by worst-/best-case bounds on system properties\n<ul>\n<li>worst-/best-case bounds on arrival times</li>\n<li>worst-/best-case on server behavior</li>\n<li>resource interaction</li>\n</ul>\n</li>\n<li>Performance measures\n<ul>\n<li>worst-/best-case delay in queue</li>\n<li>worst-/best-case number of customers in queue</li>\n<li>worst-/best-case system delay</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"simulation-1\">Simulation</h3>\n<ul>\n<li>Model\n<ul>\n<li>Program implementing a model of the system (application, hardware, platform, mapping)</li>\n<li>Performance is evaluated by running the program</li>\n</ul>\n</li>\n<li>Simulation\n<ul>\n<li>Considers HW platform and mapping of application on that platform (virtual platform)</li>\n<li>Combines functional simulation and performance data</li>\n<li>Evaluates behavior for one simulation scenario</li>\n</ul>\n</li>\n<li>Typically complex set-up and extensive run-times</li>\n<li>Accurate results and good debugging possibilities</li>\n</ul>\n<h4 id=\"trace-based-simulation\">Trace-Based Simulation</h4>\n<ul>\n<li>Abstract system-level simulation (without timing)\n<ul>\n<li>Faster than low-level simulation</li>\n<li>But still based on a single input trace</li>\n</ul>\n</li>\n<li>Abstraction\n<ul>\n<li>Application: abstract execution traces\n<ul>\n<li>→ Graph of events: <strong>read</strong>, <strong>write</strong> and <strong>execute</strong></li>\n</ul>\n</li>\n<li>Architecture: ‘virtual machines’ and ‘virtual channels’\n<ul>\n<li>→ Calibrated with non-functional properties (timing, power, energy)</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Trace-based simulation steps\n<ul>\n<li>Build application abstract model\n<ul>\n<li>→ execution trace determined by functional application simulation</li>\n</ul>\n</li>\n<li>Extending abstract model with architecture and mapping\n<ul>\n<li>→ Event graph extended by non-functional properties of virtual architecture elements</li>\n</ul>\n</li>\n<li>Simulation of extended model</li>\n</ul>\n</li>\n</ul>\n<!-- End of Slides 8 -->\n<!-- End of Notes Week 10 -->\n<!-- Beginning of Slides 9 -->\n<!-- Beginning of Notes Week 11 -->\n<h1 id=\"9-worst-case-execution-time-analysis\">9. Worst Case Execution Time Analysis</h1>\n<ul>\n<li>Calculation not simulation</li>\n<li>Measurement of running task</li>\n<li>Simulation would need accurate model</li>\n<li>Worst case formal analysis</li>\n<li>Program path analysis</li>\n</ul>\n<h2 id=\"hard-real-time-systems\">Hard Real-Time Systems</h2>\n<ul>\n<li>Often in safety-critical applications\n<ul>\n<li>Aeronautics</li>\n<li>Automotive</li>\n<li>Train industries</li>\n<li>Manufacturing control</li>\n</ul>\n</li>\n<li>Embedded controllers are expected to finish tasks reliably within time bounds</li>\n<li>Task scheduling must be performed</li>\n<li>Execution time bounds\n<ul>\n<li>Worst-Case Execution Time (<strong>WCET</strong>)</li>\n<li>Best-Case Execution Time (<strong>BCET</strong>)</li>\n</ul>\n</li>\n<li>Works if:\n<ul>\n<li>Worst-case input can be determined or</li>\n<li>Exhaustive measurement is performed</li>\n</ul>\n</li>\n<li>Otherwise:\n<ul>\n<li>Determine upper bound from execution times of instructions</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"industrys-best-practice\">Industry’s Best Practice</h2>\n<ul>\n<li>Measurements: determine execution times directly by observing the execution of a simulation on a set of inputs\n<ul>\n<li>Does not guarantee an upper bound to all executions in general</li>\n<li>Exhaustive execution in general not possible\n<ul>\n<li>Too large space: ‘Input Domain’ <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>×</mo></mrow><annotation encoding=\"application/x-tex\">\\times</annotation></semantics></math></span></span> ‘Initial execution states’</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Compute upper bounds along the structure of the program\n<ul>\n<li>Programs are hierarchically structured</li>\n<li>Statements are nested inside statements</li>\n<li>So compute upper bound of a statements from the upper bounds of its constituents</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"calculating-upper-bounds\">Calculating Upper Bounds</h3>\n<p><span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>u</mi><mi>b</mi><mo stretchy=\"false\">(</mo><mi>s</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">ub(s)</annotation></semantics></math></span></span>: Upper bound for statement <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>s</mi></mrow><annotation encoding=\"application/x-tex\">s</annotation></semantics></math></span></span></p>\n<h4 id=\"sequence-of-statements\">Sequence of Statements</h4>\n<div class=\"math math-display\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>A</mi><mo>≡</mo><mi>A</mi><mn>1</mn><mo separator=\"true\">;</mo><mi>A</mi><mn>2</mn></mrow><annotation encoding=\"application/x-tex\">A \\equiv A1;A2</annotation></semantics></math></span></div>\n<p>Constituents of <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A</annotation></semantics></math></span></span>: <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">A1</annotation></semantics></math></span></span> and <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi><mn>2</mn></mrow><annotation encoding=\"application/x-tex\">A2</annotation></semantics></math></span></span></p>\n<p>Upper bound for <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A</annotation></semantics></math></span></span> is the sum of the upper bounds for <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">A1</annotation></semantics></math></span></span> and <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi><mn>2</mn></mrow><annotation encoding=\"application/x-tex\">A2</annotation></semantics></math></span></span></p>\n<div class=\"math math-display\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>u</mi><mi>b</mi><mo stretchy=\"false\">(</mo><mi>A</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mi>u</mi><mi>b</mi><mo stretchy=\"false\">(</mo><mi>A</mi><mn>1</mn><mo stretchy=\"false\">)</mo><mo>+</mo><mi>u</mi><mi>b</mi><mo stretchy=\"false\">(</mo><mi>A</mi><mn>2</mn><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">ub(A) = ub(A1) + ub(A2)</annotation></semantics></math></span></div>\n<h4 id=\"conditional-statement\">Conditional Statement</h4>\n<div class=\"math math-display\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mtable rowspacing=\"0.25em\" columnalign=\"right left\" columnspacing=\"0em\"><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mi>A</mi><mo>≡</mo><mtext>  </mtext></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mi>i</mi><mi>f</mi><mtext>  </mtext><mi>B</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mi>t</mi><mi>h</mi><mi>e</mi><mi>n</mi><mtext>  </mtext><mi>A</mi><mn>1</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mi>e</mi><mi>l</mi><mi>s</mi><mi>e</mi><mtext>  </mtext><mi>A</mi><mn>2</mn></mrow></mstyle></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\begin{align*}\n A \\equiv \\; &#x26; if \\; B \\\\\n &#x26; then \\; A1 \\\\\n &#x26; else \\; A2\n\\end{align*}</annotation></semantics></math></span></div>\n<p>Constituents of <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A</annotation></semantics></math></span></span>:</p>\n<ol>\n<li>Condition <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>B</mi></mrow><annotation encoding=\"application/x-tex\">B</annotation></semantics></math></span></span></li>\n<li>Statements <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">A1</annotation></semantics></math></span></span> and <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi><mn>2</mn></mrow><annotation encoding=\"application/x-tex\">A2</annotation></semantics></math></span></span></li>\n</ol>\n<div class=\"math math-display\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>u</mi><mi>b</mi><mo stretchy=\"false\">(</mo><mi>A</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mi>u</mi><mi>b</mi><mo stretchy=\"false\">(</mo><mi>b</mi><mo stretchy=\"false\">)</mo><mo>+</mo><mrow><mi mathvariant=\"bold\">m</mi><mi mathvariant=\"bold\">a</mi><mi mathvariant=\"bold\">x</mi></mrow><mo stretchy=\"false\">(</mo><mi>u</mi><mi>b</mi><mo stretchy=\"false\">(</mo><mi>A</mi><mn>1</mn><mo stretchy=\"false\">)</mo><mo separator=\"true\">,</mo><mi>u</mi><mi>b</mi><mo stretchy=\"false\">(</mo><mi>A</mi><mn>2</mn><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">ub(A) = ub(b) + \\mathbf{max}(ub(A1), ub(A2))</annotation></semantics></math></span></div>\n<h4 id=\"loops\">Loops</h4>\n<div class=\"math math-display\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mtable rowspacing=\"0.25em\" columnalign=\"right left\" columnspacing=\"0em\"><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mi>A</mi><mo>≡</mo><mi>f</mi><mi>o</mi><mi>r</mi><mtext>  </mtext></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mi>i</mi><mo>←</mo><mn>1</mn><mtext>  </mtext><mi>t</mi><mi>o</mi><mtext>  </mtext><mn>100</mn><mtext>  </mtext><mi>d</mi><mi>o</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mi>A</mi><mn>1</mn></mrow></mstyle></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\begin{align*}\n A \\equiv for\\; &#x26; i \\leftarrow 1\\; to\\; 100\\; do \\\\\n &#x26; A1\n\\end{align*}</annotation></semantics></math></span></div>\n<p>Precondition: Number of loops needs to be known (e.g 100)</p>\n<div class=\"math math-display\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>u</mi><mi>b</mi><mo stretchy=\"false\">(</mo><mi>A</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mi>u</mi><mi>b</mi><mo stretchy=\"false\">(</mo><mi>i</mi><mo>←</mo><mo stretchy=\"false\">)</mo><mo>+</mo><mn>100</mn><mo>×</mo><mo stretchy=\"false\">(</mo><mi>u</mi><mi>b</mi><mo stretchy=\"false\">(</mo><mi>i</mi><mo>≤</mo><mn>100</mn><mo stretchy=\"false\">)</mo><mo>+</mo><mi>u</mi><mi>b</mi><mo stretchy=\"false\">(</mo><mi>A</mi><mn>1</mn><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">)</mo><mo>+</mo><mi>u</mi><mi>b</mi><mo stretchy=\"false\">(</mo><mi>i</mi><mo>≤</mo><mn>100</mn><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">ub(A) = ub(i \\leftarrow) + 100 \\times (ub(i \\leq 100) + ub(A1))+ ub(i\\leq100)</annotation></semantics></math></span></div>\n<h3 id=\"modern-hardware-features\">Modern Hardware Features</h3>\n<ul>\n<li>Modern processors increase performance by using\n<ul>\n<li>Caches</li>\n<li>Pipelines</li>\n<li>Branch prediction</li>\n<li>Speculation</li>\n</ul>\n</li>\n<li>These features make <strong>WCET</strong> computation difficult (execution times of instructions vary widely)\n<ul>\n<li>Best case: everything goes right: no cache miss, operands ready, resources free, branch predicted correctly</li>\n<li>Worst case: everything goes wrong: all loads miss cache, resources occupied operands not ready</li>\n</ul>\n</li>\n<li>Span may be several hundred (even thousand) cycles</li>\n</ul>\n<h3 id=\"program-path-analysis\">Program Path Analysis</h3>\n<ul>\n<li>Which sequence of instructions is executed in the worst-case (longest run time)?</li>\n<li>Problem: The number of possible program paths grow with the length of the program</li>\n<li>Number of loop iteration must be bounded</li>\n<li>Must be done at machine code instruction level</li>\n</ul>\n<h4 id=\"basic-blocks\">Basic Blocks</h4>\n<p>A basic block is a sequence of instruction where the control flow enters at the beginning\nand exits at the end, without stopping in-between or branching (except at the end).</p>\n<p>The branch instruction at the end of a basic block belongs to that block!</p>\n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\">t1 <span class=\"token operator\">:</span><span class=\"token operator\">=</span> c <span class=\"token operator\">-</span> d\nt2 <span class=\"token operator\">:</span><span class=\"token operator\">=</span> e <span class=\"token operator\">*</span> t1\nt3 <span class=\"token operator\">:</span><span class=\"token operator\">=</span> b <span class=\"token operator\">*</span> t1\nt4 <span class=\"token operator\">:</span><span class=\"token operator\">=</span> t2 <span class=\"token operator\">+</span> t3\n<span class=\"token keyword\">if</span> t4 <span class=\"token operator\">&lt;</span> <span class=\"token number\">10</span> <span class=\"token keyword\">goto</span> L</code></pre></div>\n<p>Determine basic blocks of a program</p>\n<ol>\n<li>Determine the first instructions of blocks:\n<ul>\n<li>The first instruction</li>\n<li>Targets of jumps (conditional/unconditional)</li>\n<li>Instructions that <em>follow</em> jumps (conditional/unconditional)</li>\n</ul>\n</li>\n<li>Determine the basic blocks\n<ul>\n<li>There is a basic block for each block beginning</li>\n<li>The basic block consists of the block beginning and runs until the next block beginning (exclusive) or until the end of the program</li>\n</ul>\n</li>\n</ol>\n<h4 id=\"calculation-of-the-wcet\">Calculation of the <strong>WCET</strong></h4>\n<p>A program consists of <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>N</mi></mrow><annotation encoding=\"application/x-tex\">N</annotation></semantics></math></span></span> basic blocks, where each basic block <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>B</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">B_i</annotation></semantics></math></span></span> has a worst-case execution time <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>c</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">c_i</annotation></semantics></math></span></span> and is\nexecuted for exactly <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>x</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">x_i</annotation></semantics></math></span></span> times:</p>\n<div class=\"math math-display\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>W</mi><mi>C</mi><mi>E</mi><mi>T</mi><mo>=</mo><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover><msub><mi>c</mi><mi>i</mi></msub><mo>⋅</mo><msub><mi>x</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">WCET = \\sum_{i=1}^N c_i \\cdot x_i</annotation></semantics></math></span></div>\n<ul>\n<li>The <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>c</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">c_i</annotation></semantics></math></span></span> values are determined using the static analysis</li>\n<li>Determine <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>x</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">x_i</annotation></semantics></math></span></span>\n<ul>\n<li>Structural constraint given by the program structure</li>\n<li>Additional constraints provided by the programmer (e.g bounds for loop counters…)</li>\n</ul>\n</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/66c6d31883a09bc6f46648ddb79e1260/1ddef/hscd_wcet_calculation.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 92.40506329113923%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC9UlEQVQ4y21Ua0/qQBDlv/vZj5p7vyhKVFCQpxjk+mgvYOQhoIABg+INFZWWFiiFFthzMwtFUCeZzLY7c/bs2dl1MMYYAKxGZn+zkWVBbjTYaz6P50aDdRQF7+/vzLKsRf5yrWMZbD7mYTqd8m+p2WSBUAj7h4c42D+Aa3eXuVwutNvtRenc+djxiQ4bdJkxGzOGniQxOZOB1GqxXq8HRVFowQUJu4aiwya3tJLNErVaDYIgIH5ygvNwBIIoQhSuIAoCRFFEoVDgeZZlYTwe8zrH0ja/WbFYhMfjwa/fv+Ha24PP58P2thP7+wdwu92IRqMYDAbodrvEmscFQ1pBlmX+U9O0RVJbljHSdZiFArROB3OBeb6tM9lkMgHJsQAcjUZQVZWzpWRysqfnZ5xGo4j4/fB6vTg6OkL0NApzMuHzNqhpmquA9EPX9RU9MZ3iQ5LwN5GAmEjgShAQOztDNp0GU9UVeYjAN8B+v78qoixjWK1iNGdDpmoa2q0W3pMp6JqGgWFwHal2dcumySdIv+vra9zmcri8uEA2l0OlUoFljVGv1+HxuHF5eQl/KIRAIIA/8TiSySSy2ewXQMPAcDjE29sbvN4jhCMRHPr9vD0SiQRnIEkSfL5jbG1t4zgUhNPpxObGBsLhMG5ubuaAhKbIMEv36BvGTGjS0DDQz2ahdjr8wMiMwQC12iMy6TSK8TNUKxXcl0q8X/+9vCwBMgaTAOYaspnKgK6jVCotmriQz+M2n0er2QSUzorcdNbfNLRPedmoVch3dnYRDIZwfn6Oh4eHz26YnSis2uOssamPaMIcjegVWTS27cTabmIak/McVYWmatBo/PEBpfLA5xw/XTkiTZ1PIMVCAalUCuVyGXd3dzzS4RAJyuE+nWIyZ+x4fX3lW2g2m+j1uuhqKgZLW4+cnMDr8/F7GwwEEIvFUK1Wf2YBwLG+vo61tTVsbm4il7tFJpPhTJ6e6ujpOiZSE1a5DKXTgWEM+QWwr+XXF4oY/gdS7DoDdqCsDQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"WCET Calculation\"\n        title=\"WCET Calculation\"\n        src=\"/static/66c6d31883a09bc6f46648ddb79e1260/f058b/hscd_wcet_calculation.png\"\n        srcset=\"/static/66c6d31883a09bc6f46648ddb79e1260/c26ae/hscd_wcet_calculation.png 158w,\n/static/66c6d31883a09bc6f46648ddb79e1260/6bdcf/hscd_wcet_calculation.png 315w,\n/static/66c6d31883a09bc6f46648ddb79e1260/f058b/hscd_wcet_calculation.png 630w,\n/static/66c6d31883a09bc6f46648ddb79e1260/1ddef/hscd_wcet_calculation.png 635w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>This image is taken from the lecture slides provided by Lothar Thiele.</p>\n<p>Flow Equations (sum of incoming edges equals sum of outgoing edges)</p>\n<div class=\"math math-display\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mtable rowspacing=\"0.25em\" columnalign=\"right\" columnspacing=\"\"><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mi>d</mi><mn>1</mn><mo>=</mo><mi>d</mi><mn>2</mn><mo>=</mo><msub><mi>x</mi><mn>1</mn></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mi>d</mi><mn>2</mn><mo>+</mo><mi>d</mi><mn>8</mn><mo>=</mo><mi>d</mi><mn>3</mn><mo>+</mo><mi>d</mi><mn>9</mn><mo>=</mo><msub><mi>x</mi><mn>2</mn></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mi>d</mi><mn>3</mn><mo>=</mo><mi>d</mi><mn>4</mn><mo>+</mo><mi>d</mi><mn>5</mn><mo>=</mo><msub><mi>x</mi><mn>3</mn></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mi>d</mi><mn>4</mn><mo>=</mo><mi>d</mi><mn>6</mn><mo>=</mo><msub><mi>x</mi><mn>4</mn></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mi>d</mi><mn>5</mn><mo>=</mo><mi>d</mi><mn>7</mn><mo>=</mo><msub><mi>x</mi><mn>5</mn></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mi>d</mi><mn>6</mn><mo>+</mo><mi>d</mi><mn>7</mn><mo>=</mo><mi>d</mi><mn>8</mn><mo>=</mo><msub><mi>x</mi><mn>6</mn></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mi>d</mi><mn>9</mn><mo>=</mo><mi>d</mi><mn>10</mn><mo>=</mo><msub><mi>x</mi><mn>7</mn></msub></mrow></mstyle></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\begin{align*}\nd1 = d2 = x_1 \\\\\nd2 + d8 = d3 + d9 = x_2 \\\\\nd3 = d4 + d5 = x_3 \\\\\nd4 = d6 = x_4 \\\\\nd5 = d7 = x_5 \\\\\nd6 + d7 = d8 = x_6 \\\\\nd9 = d10 = x_7\n\\end{align*}</annotation></semantics></math></span></div>\n<p>Additional Constraints</p>\n<ul>\n<li>Execute the program only once: <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>d</mi><mn>1</mn><mo>=</mo><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">d1 = 1</annotation></semantics></math></span></span></li>\n<li>loop is executed at most 10 times: <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>x</mi><mn>3</mn></msub><mo>≤</mo><mn>10</mn><mo>⋅</mo><msub><mi>x</mi><mn>1</mn></msub></mrow><annotation encoding=\"application/x-tex\">x_3 \\leq 10 \\cdot x_1</annotation></semantics></math></span></span></li>\n<li>Block 5 is executed at most one time: <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>x</mi><mn>5</mn></msub><mo>&#x3C;</mo><mi>l</mi><mi>e</mi><mi>q</mi><mn>1</mn><mo>⋅</mo><msub><mi>x</mi><mn>1</mn></msub></mrow><annotation encoding=\"application/x-tex\">x_5 &#x3C;leq 1 \\cdot x_1</annotation></semantics></math></span></span></li>\n</ul>\n<p>The more information the better the result</p>\n<h5 id=\"integer-linear-program-for-wcet-calculation\">Integer Linear Program for <strong>WCET</strong> Calculation</h5>\n<p>ILP with structural and additional constraints</p>\n<div class=\"math math-display\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>W</mi><mi>C</mi><mi>E</mi><mi>T</mi><mo>=</mo><mi>m</mi><mi>a</mi><mi>x</mi><mrow><mo fence=\"true\">{</mo><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover><msub><mi>c</mi><mi>i</mi></msub><mo>⋅</mo><msub><mi>x</mi><mi>i</mi></msub><mi mathvariant=\"normal\">∣</mi><munder><munder><mrow><msub><mi>d</mi><mn>1</mn></msub><mo>=</mo><mn>1</mn></mrow><mo stretchy=\"true\">⏟</mo></munder><mtext>program is executed once</mtext></munder><mo>∧</mo><munder><munder><mrow><munder><mo>∑</mo><mrow><mi>j</mi><mo>∈</mo><mi>i</mi><mi>n</mi><mo stretchy=\"false\">(</mo><msub><mi>B</mi><mi>i</mi></msub><mo stretchy=\"false\">)</mo></mrow></munder><msub><mi>d</mi><mi>j</mi></msub><mo>=</mo><munder><mo>∑</mo><mrow><mi>k</mi><mo>∈</mo><mi>o</mi><mi>u</mi><mi>t</mi><mo stretchy=\"false\">(</mo><msub><mi>B</mi><mi>i</mi></msub><mo stretchy=\"false\">)</mo></mrow></munder><msub><mi>d</mi><mi>k</mi></msub><mo>=</mo><msub><mi>x</mi><mi>i</mi></msub><mo separator=\"true\">,</mo><mi>i</mi><mo>=</mo><mn>1</mn><mo>…</mo><mi>N</mi></mrow><mo stretchy=\"true\">⏟</mo></munder><mtext>structural constraints</mtext></munder><mtext>  </mtext><mo>∧</mo><mtext>  </mtext><mtext>additional constraints</mtext><mo fence=\"true\">}</mo></mrow></mrow><annotation encoding=\"application/x-tex\">WCET = max\\left \\{ \\sum_{i=1}^N c_i \\cdot x_i | \\underbrace{d_1=1}_{\\text{program is executed once}} \\land \\underbrace{\\sum_{j\\in in(B_i)} d_j = \\sum_{k\\in out(B_i)}d_k=x_i, i=1\\ldots N}_{\\text{structural constraints}} \\;\\land \\;\\text{additional constraints} \\right \\}</annotation></semantics></math></span></div>\n<h3 id=\"abstract-interpretation-ai\">Abstract Interpretation (AI)</h3>\n<ul>\n<li>Semantics-based method for static program analysis</li>\n<li>Basic idea\n<ul>\n<li>Perform programs computations using value descriptions (or abstract values)</li>\n<li>Start with the description of all possible inputs</li>\n</ul>\n</li>\n<li>AI supports correctness proofs</li>\n</ul>\n<p>Ingredients:</p>\n<ul>\n<li>Abstract domain: related to concrete domain (by abstraction and concretization functions)\n<ul>\n<li>e.g <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>L</mi><mo>→</mo><mtext>Intervals</mtext></mrow><annotation encoding=\"application/x-tex\">L \\rightarrow \\text{Intervals}</annotation></semantics></math></span></span></li>\n<li>where: <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mtext>Intervals</mtext><mo>=</mo><mi>L</mi><mi>B</mi><mo>×</mo><mi>U</mi><mi>B</mi><mo separator=\"true\">,</mo><mi>L</mi><mi>B</mi><mo>=</mo><mi>U</mi><mi>B</mi><mo>=</mo><mi>I</mi><mi>n</mi><mi>t</mi><mo>∪</mo><mo stretchy=\"false\">{</mo><mo>−</mo><mi mathvariant=\"normal\">∞</mi><mo separator=\"true\">,</mo><mi mathvariant=\"normal\">∞</mi><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">\\text{Intervals} = LB \\times UB, LB = UB = Int \\cup \\{-\\infty, \\infty\\}</annotation></semantics></math></span></span></li>\n<li>instead of: <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>L</mi><mo>→</mo><mi>I</mi><mi>n</mi><mi>t</mi></mrow><annotation encoding=\"application/x-tex\">L \\rightarrow Int</annotation></semantics></math></span></span></li>\n</ul>\n</li>\n<li>Abstract transfer functions: for each statement type (abstract versions of their semantics)\n<ul>\n<li>e.g <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>+</mo><mo>:</mo><mi>I</mi><mi>n</mi><mi>t</mi><mi>e</mi><mi>r</mi><mi>v</mi><mi>a</mi><mi>l</mi><mi>s</mi><mo>×</mo><mi>I</mi><mi>n</mi><mi>t</mi><mi>e</mi><mi>r</mi><mi>v</mi><mi>a</mi><mi>l</mi><mi>s</mi><mo>→</mo><mi>I</mi><mi>n</mi><mi>t</mi><mi>e</mi><mi>r</mi><mi>v</mi><mi>a</mi><mi>l</mi><mi>s</mi></mrow><annotation encoding=\"application/x-tex\">+ : Intervals \\times Intervals \\rightarrow Intervals</annotation></semantics></math></span></span></li>\n<li>where: <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">[</mo><mi>a</mi><mo separator=\"true\">,</mo><mi>b</mi><mo stretchy=\"false\">]</mo><mo>+</mo><mo stretchy=\"false\">[</mo><mi>c</mi><mo separator=\"true\">,</mo><mi>d</mi><mo stretchy=\"false\">]</mo><mo>=</mo><mo stretchy=\"false\">[</mo><mi>a</mi><mo>+</mo><mi>c</mi><mo separator=\"true\">,</mo><mi>b</mi><mo>+</mo><mi>d</mi><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">[a,b] + [c,d] = [a+c,b+d]</annotation></semantics></math></span></span></li>\n<li>with: <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>+</mo></mrow><annotation encoding=\"application/x-tex\">+</annotation></semantics></math></span></span> extends to <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>−</mo><mi mathvariant=\"normal\">∞</mi><mo separator=\"true\">,</mo><mi mathvariant=\"normal\">∞</mi></mrow><annotation encoding=\"application/x-tex\">-\\infty, \\infty</annotation></semantics></math></span></span></li>\n</ul>\n</li>\n<li>A join function combining abstract values from different control-flow paths\n<ul>\n<li>e.g <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>∪</mo><mo>:</mo><mi>I</mi><mi>n</mi><mi>t</mi><mi>e</mi><mi>r</mi><mi>v</mi><mi>a</mi><mi>l</mi><mo>×</mo><mi>I</mi><mi>n</mi><mi>t</mi><mi>e</mi><mi>r</mi><mi>v</mi><mi>a</mi><mi>l</mi><mo>→</mo><mi>I</mi><mi>n</mi><mi>t</mi><mi>e</mi><mi>r</mi><mi>v</mi><mi>a</mi><mi>l</mi></mrow><annotation encoding=\"application/x-tex\">\\cup : Interval \\times Interval \\rightarrow Interval</annotation></semantics></math></span></span></li>\n<li>where: <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">[</mo><mi>a</mi><mo separator=\"true\">,</mo><mi>b</mi><mo stretchy=\"false\">]</mo><mo>∪</mo><mo stretchy=\"false\">[</mo><mi>c</mi><mo separator=\"true\">,</mo><mi>d</mi><mo stretchy=\"false\">]</mo><mo>=</mo><mo stretchy=\"false\">[</mo><mi>m</mi><mi>i</mi><mi>n</mi><mo stretchy=\"false\">(</mo><mi>a</mi><mo separator=\"true\">,</mo><mi>c</mi><mo stretchy=\"false\">)</mo><mo separator=\"true\">,</mo><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy=\"false\">(</mo><mi>b</mi><mo separator=\"true\">,</mo><mi>d</mi><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">[a,b] \\cup [c,d] = [min(a,c),max(b,d)]</annotation></semantics></math></span></span></li>\n</ul>\n</li>\n</ul>\n<h4 id=\"value-analysis\">Value Analysis</h4>\n<p>Motivation:</p>\n<ul>\n<li>Provide access information to data-cache/pipeline analysis</li>\n<li>Detect Infeasible paths</li>\n<li>Derive loop bounds</li>\n</ul>\n<p>Method:</p>\n<p>Calculate intervals at all program points. Lower and upper bounds for the set of possible values\noccurring in the program (addresses, register contents, local and global variables).</p>\n<!-- End of Notes Week 11 -->\n<!-- Beginning of Notes Week 12 -->\n<h4 id=\"caches\">Caches</h4>\n<ul>\n<li>\n<p>Main memory to slow</p>\n</li>\n<li>\n<p>Speed gap between CPU and memory too large (and increasing)</p>\n</li>\n<li>\n<p>Caches work well in the average case:</p>\n<ul>\n<li>Programs access data locally (many hits)</li>\n<li>Programs reuse items (instructions, data)</li>\n<li>Access patterns are distributed evenly across the cache</li>\n</ul>\n</li>\n<li>\n<p>Caches: fast, small, expensive</p>\n</li>\n<li>\n<p>Memory: relatively slow (bottle neck), large, cheap</p>\n</li>\n<li>\n<p>Access cycles:</p>\n<ul>\n<li>CPU ↔ Cache: ~1 cycle</li>\n<li>Cache ↔ Memory: ~100 cycles</li>\n</ul>\n</li>\n</ul>\n<p>How caches work:</p>\n<ul>\n<li>CPU wants to access (read/write) at memory address <strong>a</strong></li>\n<li>Caches:\n<ul>\n<li>Block <strong>m</strong> containing <strong>a</strong> is in the cache (<em>hit</em>):\n<ul>\n<li>Request for <strong>a</strong> is served in next cycle</li>\n</ul>\n</li>\n<li>Block <strong>m</strong> is not in the cache(<em>miss</em>):\n<ul>\n<li><strong>m</strong> is transferred from main memory to the cache</li>\n<li><strong>m</strong> may replace some block in the cache</li>\n<li>Request for <strong>a</strong> is served as soon as possible (while transfer still continues)</li>\n</ul>\n</li>\n<li>Several replacement strategies:\n<ul>\n<li>LRU: Least Recently Used</li>\n<li>PLRU: Pseudo-LRU</li>\n<li>FIFO</li>\n<li>…</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"cache-analysis\">Cache Analysis</h4>\n<p>Statically precompute cache contents:</p>\n<ul>\n<li>Must Analysis\n<ul>\n<li>For each program point (and calling context) find out which blocks <em>are in the cache</em></li>\n<li>Determines safe information about cache hits</li>\n<li>Predicted cache hit <em>reduces</em> <strong>WCET</strong></li>\n</ul>\n</li>\n<li>May Analysis\n<ul>\n<li>For each program point (and calling context) find out which blocks <em>may be in the cache</em></li>\n<li><em>Complement</em> says what is <strong>not</strong> in the cache</li>\n<li>Determines safe information about cache misses</li>\n<li>Each predicted cache miss <em>increases</em> <strong>BCET</strong></li>\n</ul>\n</li>\n</ul>\n<h5 id=\"must-cache\">Must Cache</h5>\n<ul>\n<li>\n<p>Only variables that are in all caches</p>\n</li>\n<li>\n<p>Order: worst age (oldest)</p>\n</li>\n<li>\n<p>Number of variables in cache <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>≤</mo></mrow><annotation encoding=\"application/x-tex\">\\leq</annotation></semantics></math></span></span> numbers of places in cache</p>\n</li>\n<li>\n<p>Join</p>\n<ul>\n<li>Intersection + maximal age</li>\n<li>Interpretation:\n<ul>\n<li>Memory block <strong>a</strong> is definitely in the cache</li>\n<li>Always a hit</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h5 id=\"may-cache\">May Cache</h5>\n<ul>\n<li>All variables that <em>could be in cache</em></li>\n<li>Minimal age</li>\n<li>Join\n<ul>\n<li>Union</li>\n<li>Minimal age</li>\n<li>Interpretation:\n<ul>\n<li>All block may be in cache</li>\n<li>None is definitely <em>not</em> in cache</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h5 id=\"cache-contribution-to-wcet\">Cache Contribution to <strong>WCET</strong></h5>\n<p>Reference to variable <strong>s</strong> in code:</p>\n<ul>\n<li>if <strong>s</strong> is in <em>must-cache</em>:\n<ul>\n<li><span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>t</mi><mrow><mi>W</mi><mi>C</mi><mi>E</mi><mi>T</mi></mrow></msub><mo>=</mo><msub><mi>t</mi><mrow><mi>h</mi><mi>i</mi><mi>t</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">t_{WCET} = t_{hit}</annotation></semantics></math></span></span></li>\n</ul>\n</li>\n<li>otherwise\n<ul>\n<li><span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>t</mi><mrow><mi>W</mi><mi>C</mi><mi>E</mi><mi>T</mi></mrow></msub><mo>=</mo><msub><mi>t</mi><mrow><mi>m</mi><mi>i</mi><mi>s</mi><mi>s</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">t_{WCET} = t_{miss}</annotation></semantics></math></span></span></li>\n</ul>\n</li>\n<li>if <strong>s</strong> is in <em>may-cache</em>:\n<ul>\n<li><span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>t</mi><mrow><mi>B</mi><mi>C</mi><mi>E</mi><mi>T</mi></mrow></msub><mo>=</mo><msub><mi>t</mi><mrow><mi>h</mi><mi>i</mi><mi>t</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">t_{BCET} = t_{hit}</annotation></semantics></math></span></span></li>\n</ul>\n</li>\n<li>otherwise\n<ul>\n<li><span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>t</mi><mrow><mi>B</mi><mi>C</mi><mi>E</mi><mi>T</mi></mrow></msub><mo>=</mo><msub><mi>t</mi><mrow><mi>m</mi><mi>i</mi><mi>s</mi><mi>s</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">t_{BCET} = t_{miss}</annotation></semantics></math></span></span></li>\n</ul>\n</li>\n</ul>\n<p>Reference to variable <strong>s</strong> in loop body (max <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>n</mi></mrow><annotation encoding=\"application/x-tex\">n</annotation></semantics></math></span></span> iterations):</p>\n<ul>\n<li>\n<p>First time miss, then always hit</p>\n</li>\n<li>\n<p>Loop unfolding</p>\n</li>\n<li>\n<p>within loop</p>\n<ul>\n<li><span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>n</mi><mo>⋅</mo><msub><mi>t</mi><mrow><mi>m</mi><mi>i</mi><mi>s</mi><mi>s</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">n \\cdot t_{miss}</annotation></semantics></math></span></span></li>\n<li><span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>n</mi><mo>⋅</mo><msub><mi>t</mi><mrow><mi>h</mi><mi>i</mi><mi>t</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">n \\cdot t_{hit}</annotation></semantics></math></span></span></li>\n<li><span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>t</mi><mrow><mi>m</mi><mi>i</mi><mi>s</mi><mi>s</mi></mrow></msub><mo>+</mo><mo stretchy=\"false\">(</mo><mi>n</mi><mo>−</mo><mn>1</mn><mo stretchy=\"false\">)</mo><mo>⋅</mo><msub><mi>t</mi><mrow><mi>h</mi><mi>i</mi><mi>t</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">t_{miss} + (n - 1) \\cdot t_{hit}</annotation></semantics></math></span></span></li>\n<li><span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msub><mi>t</mi><mrow><mi>h</mi><mi>i</mi><mi>t</mi></mrow></msub><mo>+</mo><mo stretchy=\"false\">(</mo><mi>n</mi><mo>−</mo><mn>1</mn><mo stretchy=\"false\">)</mo><mo>⋅</mo><msub><mi>t</mi><mrow><mi>m</mi><mi>i</mi><mi>s</mi><mi>s</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">t_{hit}  + (n - 1) \\cdot t_{miss}</annotation></semantics></math></span></span></li>\n</ul>\n</li>\n</ul>\n<h4 id=\"pipelines\">Pipelines</h4>\n<ul>\n<li>Different stages in parallel\n<ul>\n<li>Fetch</li>\n<li>Decode</li>\n<li>Execute</li>\n<li>…</li>\n</ul>\n</li>\n<li>Pipeline hazards\n<ul>\n<li>Data hazard: Operands not yet available</li>\n<li>Resource hazard: Consecutive instructions use same resource</li>\n<li>Control hazard: Conditional branch</li>\n<li>Instruction-cache hazard: Instruction fetch causes cache miss</li>\n</ul>\n</li>\n<li>CPU as State Machine: Abstract Pipeline for basic blocks</li>\n</ul>\n<!-- End of Slides 9 -->\n<!-- Beginning of Slides 10 -->\n<h1 id=\"10-performance-analysis-of-distributed-embedded-systems\">10 Performance Analysis of Distributed Embedded Systems</h1>\n<blockquote>\n<p>Embedded System = Computation + Communication + Resource Interaction</p>\n</blockquote>\n<ul>\n<li>\n<p>Analysis ↔ Design</p>\n<ul>\n<li>Analysis: infer system properties from subsystem properties</li>\n<li>Design: build system from subsystems while meeting requirements</li>\n</ul>\n</li>\n<li>\n<p>Abstract model</p>\n</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>Concrete instance (real world)</th>\n<th>Abstract representation (model)</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Input stream</td>\n<td>Load model</td>\n</tr>\n<tr>\n<td>Processor</td>\n<td>Service model</td>\n</tr>\n<tr>\n<td>Task(s) running on processor</td>\n<td>Processing model</td>\n</tr>\n</tbody>\n</table>\n<ul>\n<li>System view\n<ul>\n<li>Modular Performance Analysis (MPA)</li>\n</ul>\n</li>\n<li>Mathematical view\n<ul>\n<li>Real-Time Calculus (RTC)</li>\n<li>Min-Plus Calculus, Max-Plus Calculus</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"real-time-calculus\">Real-Time Calculus</h2>\n<ul>\n<li>Real-Time Calculus can be regarded as a worst-/best-case variant of classical queuing theory</li>\n<li>It’s a formal method for the analysis of distributed real-time (embedded) systems</li>\n</ul>\n<h3 id=\"algebraic-structure\">Algebraic Structure</h3>\n<ul>\n<li>\n<p>Set of elements <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>S</mi></mrow><annotation encoding=\"application/x-tex\">S</annotation></semantics></math></span></span></p>\n<ul>\n<li>One ore more operators defined on elements of this set</li>\n</ul>\n</li>\n<li>\n<p>Algebraic structures with <em>two operators</em>: <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>⊞</mo></mrow><annotation encoding=\"application/x-tex\">\\boxplus</annotation></semantics></math></span></span>, <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>⊡</mo></mrow><annotation encoding=\"application/x-tex\">\\boxdot</annotation></semantics></math></span></span></p>\n<ul>\n<li>plus-times:\n<ul>\n<li><span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>S</mi><mo separator=\"true\">,</mo><mo>⊞</mo><mo separator=\"true\">,</mo><mo>⊡</mo><mo stretchy=\"false\">)</mo><mo>=</mo><mo stretchy=\"false\">(</mo><mi>R</mi><mo separator=\"true\">,</mo><mo>+</mo><mo separator=\"true\">,</mo><mo>×</mo><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(S, \\boxplus, \\boxdot) = (R, +, \\times)</annotation></semantics></math></span></span></li>\n<li>Our ‘normal’ algebra</li>\n</ul>\n</li>\n<li>min-plus:\n<ul>\n<li><span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>S</mi><mo separator=\"true\">,</mo><mo>⊞</mo><mo separator=\"true\">,</mo><mo>⊡</mo><mo stretchy=\"false\">)</mo><mo>=</mo><mo stretchy=\"false\">(</mo><mi>R</mi><mo>∪</mo><mo stretchy=\"false\">{</mo><mo>+</mo><mi mathvariant=\"normal\">∞</mi><mo stretchy=\"false\">}</mo><mo separator=\"true\">,</mo><mi>i</mi><mi>n</mi><mi>f</mi><mo separator=\"true\">,</mo><mo>+</mo><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(S, \\boxplus, \\boxdot) = (R \\cup \\{ + \\infty \\}, inf, +)</annotation></semantics></math></span></span></li>\n<li>Used for Real-Time calculus</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>Infimum</strong></p>\n<ul>\n<li>The infimum of a subset (of some set) is the greatest element (not necessary in the subset)\nthat is less than or equal to all other elements of the subset</li>\n<li><span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mtable rowspacing=\"0.16em\" columnalign=\"center\" columnspacing=\"1em\"><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><msub><mi>S</mi><mn>1</mn></msub><mo>⊆</mo><mi>S</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><mi>i</mi><mi>n</mi><mi>f</mi><mo stretchy=\"false\">(</mo><msub><mi>S</mi><mn>1</mn></msub><mo stretchy=\"false\">)</mo><mo>=</mo><mi><munder><mo><mi>m</mi><mi>a</mi><mi>x</mi></mo><mi>i</mi></munder></mi><mo stretchy=\"false\">{</mo><mi>i</mi><mo>∈</mo><mi>S</mi><mo>:</mo><mi>i</mi><mo>≤</mo><mi>s</mi><mtext>  </mtext><mi mathvariant=\"normal\">∀</mi><mi>s</mi><mo>∈</mo><msub><mi>S</mi><mn>1</mn></msub><mo stretchy=\"false\">}</mo></mrow></mstyle></mtd></mtr></mtable><annotation encoding=\"application/x-tex\">\\begin{matrix}S_1 \\subseteq S \\\\  inf(S_1) = \\underset{i}{max}\\{i \\in S : i \\leq s\\; \\forall s \\in S_1\\}\\end{matrix}</annotation></semantics></math></span></span></li>\n<li>Examples:\n<ul>\n<li><span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>i</mi><mi>n</mi><mi>f</mi><mo stretchy=\"false\">{</mo><mo stretchy=\"false\">[</mo><mn>3</mn><mo separator=\"true\">,</mo><mn>4</mn><mo stretchy=\"false\">]</mo><mo stretchy=\"false\">}</mo><mo>=</mo><mn>3</mn></mrow><annotation encoding=\"application/x-tex\">inf\\{[3,4]\\}=3</annotation></semantics></math></span></span> and <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>m</mi><mi>i</mi><mi>n</mi><mo stretchy=\"false\">{</mo><mo stretchy=\"false\">[</mo><mn>3</mn><mo separator=\"true\">,</mo><mn>4</mn><mo stretchy=\"false\">]</mo><mo stretchy=\"false\">}</mo><mo>=</mo><mn>3</mn></mrow><annotation encoding=\"application/x-tex\">min\\{[3,4]\\}=3</annotation></semantics></math></span></span></li>\n<li><span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>i</mi><mi>n</mi><mi>f</mi><mo stretchy=\"false\">{</mo><mo stretchy=\"false\">(</mo><mn>3</mn><mo separator=\"true\">,</mo><mn>4</mn><mo stretchy=\"false\">]</mo><mo stretchy=\"false\">}</mo><mo>=</mo><mn>3</mn></mrow><annotation encoding=\"application/x-tex\">inf\\{(3,4]\\}=3</annotation></semantics></math></span></span> but <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>m</mi><mi>i</mi><mi>n</mi><mo stretchy=\"false\">{</mo><mo stretchy=\"false\">(</mo><mn>3</mn><mo separator=\"true\">,</mo><mn>4</mn><mo stretchy=\"false\">]</mo><mo stretchy=\"false\">}</mo><mtext>not defined</mtext></mrow><annotation encoding=\"application/x-tex\">min\\{(3,4]\\} \\text{not defined}</annotation></semantics></math></span></span></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>Joint properties of <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>⊡</mo></mrow><annotation encoding=\"application/x-tex\">\\boxdot</annotation></semantics></math></span></span>:</p>\n<ul>\n<li>Closure: <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>a</mi><mo>⊡</mo><mi>b</mi><mo>∈</mo><mi>S</mi></mrow><annotation encoding=\"application/x-tex\">a \\boxdot b \\in S</annotation></semantics></math></span></span></li>\n<li>Associativity: <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>a</mi><mo>⊡</mo><mo stretchy=\"false\">(</mo><mi>b</mi><mo>⊡</mo><mi>c</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mo stretchy=\"false\">(</mo><mi>a</mi><mo>⊡</mo><mi>b</mi><mo stretchy=\"false\">)</mo><mo>⊡</mo><mi>c</mi></mrow><annotation encoding=\"application/x-tex\">a \\boxdot (b \\boxdot c) = (a \\boxdot b) \\boxdot c</annotation></semantics></math></span></span></li>\n<li>Commutativity <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>a</mi><mo>⊡</mo><mi>b</mi><mo>=</mo><mi>b</mi><mo>⊡</mo><mi>a</mi></mrow><annotation encoding=\"application/x-tex\">a \\boxdot b = b \\boxdot a</annotation></semantics></math></span></span></li>\n<li>Existence of identity element: <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"normal\">∃</mi><mi>v</mi><mo>:</mo><mi>a</mi><mo>⊡</mo><mi>v</mi><mo>=</mo><mi>a</mi></mrow><annotation encoding=\"application/x-tex\">\\exists v: a \\boxdot v = a</annotation></semantics></math></span></span></li>\n<li>Existence of negative element: <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"normal\">∃</mi><msup><mi>a</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo>:</mo><mi>a</mi><mo>⊡</mo><msup><mi>a</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo>=</mo><mi>v</mi></mrow><annotation encoding=\"application/x-tex\">\\exists a^{-1}: a \\boxdot a^{-1} = v</annotation></semantics></math></span></span></li>\n<li>Identity element of <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>⊞</mo></mrow><annotation encoding=\"application/x-tex\">\\boxplus</annotation></semantics></math></span></span> absorbing for <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>⊡</mo></mrow><annotation encoding=\"application/x-tex\">\\boxdot</annotation></semantics></math></span></span>: <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>a</mi><mo>⊡</mo><mi>ϵ</mi><mo>=</mo><mi>ϵ</mi></mrow><annotation encoding=\"application/x-tex\">a\\boxdot \\epsilon = \\epsilon</annotation></semantics></math></span></span></li>\n<li>Distributivity of <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>⊡</mo></mrow><annotation encoding=\"application/x-tex\">\\boxdot</annotation></semantics></math></span></span> w.r.t. <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>⊞</mo></mrow><annotation encoding=\"application/x-tex\">\\boxplus</annotation></semantics></math></span></span>: <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>a</mi><mo>⊡</mo><mo stretchy=\"false\">(</mo><mi>b</mi><mo>⊞</mo><mi>c</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mo stretchy=\"false\">(</mo><mi>a</mi><mo>⊡</mo><mi>b</mi><mo stretchy=\"false\">)</mo><mo>⊞</mo><mo stretchy=\"false\">(</mo><mi>a</mi><mo>⊡</mo><mi>c</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">a \\boxdot (b \\boxplus c) = (a\\boxdot b) \\boxplus (a \\boxdot c)</annotation></semantics></math></span></span></li>\n</ul>\n</li>\n<li>\n<p>Joint properties of <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>⊞</mo></mrow><annotation encoding=\"application/x-tex\">\\boxplus</annotation></semantics></math></span></span>:</p>\n<ul>\n<li>Closure: <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>a</mi><mo>⊞</mo><mi>b</mi><mo>∈</mo><mi>S</mi></mrow><annotation encoding=\"application/x-tex\">a \\boxplus b \\in S</annotation></semantics></math></span></span></li>\n<li>Associativity: <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>a</mi><mo>⊞</mo><mo stretchy=\"false\">(</mo><mi>b</mi><mo>⊞</mo><mi>c</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mo stretchy=\"false\">(</mo><mi>a</mi><mo>⊞</mo><mi>b</mi><mo stretchy=\"false\">)</mo><mo>⊞</mo><mi>c</mi></mrow><annotation encoding=\"application/x-tex\">a \\boxplus (b  \\boxplus c) = (a  \\boxplus b)  \\boxplus c</annotation></semantics></math></span></span></li>\n<li>Commutativity: <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>a</mi><mo>⊞</mo><mi>b</mi><mo>=</mo><mi>b</mi><mo>⊞</mo><mi>a</mi></mrow><annotation encoding=\"application/x-tex\">a \\boxplus b = b \\boxplus a</annotation></semantics></math></span></span></li>\n<li>Existence of identity element: <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"normal\">∃</mi><mi>ϵ</mi><mo>:</mo><mi>a</mi><mo>⊞</mo><mi>ϵ</mi><mo>=</mo><mi>a</mi></mrow><annotation encoding=\"application/x-tex\">\\exists \\epsilon : a  \\boxplus \\epsilon = a</annotation></semantics></math></span></span></li>\n</ul>\n</li>\n<li>\n<p>Differences <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>⊞</mo></mrow><annotation encoding=\"application/x-tex\">\\boxplus</annotation></semantics></math></span></span>:</p>\n<ul>\n<li><em>plus-times</em>: Existence of negative element for <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>⊞</mo></mrow><annotation encoding=\"application/x-tex\">\\boxplus</annotation></semantics></math></span></span>: <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"normal\">∃</mi><mo stretchy=\"false\">(</mo><mo>−</mo><mi>a</mi><mo stretchy=\"false\">)</mo><mo>:</mo><mi>a</mi><mo>⊞</mo><mo stretchy=\"false\">(</mo><mo>−</mo><mi>a</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mi>ϵ</mi></mrow><annotation encoding=\"application/x-tex\">\\exists (-a): a \\boxplus (-a) = \\epsilon</annotation></semantics></math></span></span></li>\n<li><em>min-plus</em>: Idempotency: <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>a</mi><mo>⊞</mo><mi>a</mi><mo>=</mo><mi>a</mi></mrow><annotation encoding=\"application/x-tex\">a \\boxplus a = a</annotation></semantics></math></span></span></li>\n</ul>\n</li>\n<li>\n<p>Example:</p>\n<ul>\n<li>plus-times: <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>a</mi><mo>×</mo><mo stretchy=\"false\">(</mo><mi>b</mi><mo>+</mo><mi>c</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mi>a</mi><mo>×</mo><mi>b</mi><mo>+</mo><mi>a</mi><mo>×</mo><mi>c</mi></mrow><annotation encoding=\"application/x-tex\">a \\times (b + c) = a \\times b + a \\times c</annotation></semantics></math></span></span></li>\n<li>min-plus: <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>a</mi><mo>+</mo><mi>i</mi><mi>n</mi><mi>f</mi><mo stretchy=\"false\">{</mo><mi>b</mi><mo separator=\"true\">,</mo><mi>c</mi><mo stretchy=\"false\">}</mo><mo>=</mo><mi>i</mi><mi>n</mi><mi>f</mi><mo stretchy=\"false\">{</mo><mi>a</mi><mo>+</mo><mi>b</mi><mo separator=\"true\">,</mo><mi>a</mi><mo>+</mo><mi>c</mi><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">a + inf\\{b,c\\} = inf\\{a+b,a+c\\}</annotation></semantics></math></span></span></li>\n</ul>\n</li>\n</ul>\n<h3 id=\"system-theories\">System Theories</h3>\n<ul>\n<li>Plus-times system theory:\n<ul>\n<li>\n<p>signals, impulse response, convolution, time-domain</p>\n</li>\n<li>\n<p><span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>f</mi><mo stretchy=\"false\">(</mo><mi>t</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">f(t)</annotation></semantics></math></span></span>: Signals</p>\n</li>\n<li>\n<p><span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>g</mi><mo stretchy=\"false\">(</mo><mi>t</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">g(t)</annotation></semantics></math></span></span>: Impulse response</p>\n</li>\n<li>\n<p><span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>f</mi><mo>∗</mo><mi>g</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(f*g)</annotation></semantics></math></span></span>: Convolution</p>\n</li>\n<li>\n<p><span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>t</mi></mrow><annotation encoding=\"application/x-tex\">t</annotation></semantics></math></span></span>: Time domain</p>\n</li>\n</ul>\n</li>\n</ul>\n<p><img src=\"/bace682afc9803b670bf2a1fb995bb04/hscd_plus_times.svg\" alt=\"Plus-times calculus\"></p>\n<div class=\"math math-display\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>h</mi><mo stretchy=\"false\">(</mo><mi>t</mi><mo stretchy=\"false\">)</mo><mo>=</mo><munder><munder><mrow><mo stretchy=\"false\">(</mo><mi>f</mi><mo>∗</mo><mi>g</mi><mo stretchy=\"false\">)</mo></mrow><mo stretchy=\"true\">⏟</mo></munder><mtext>convolution</mtext></munder><munder><munder><mrow><mo stretchy=\"false\">(</mo><mi>t</mi><mo stretchy=\"false\">)</mo></mrow><mo stretchy=\"true\">⏟</mo></munder><mtext>time-domain</mtext></munder><mo>=</mo><msubsup><mo>∫</mo><mn>0</mn><mi>t</mi></msubsup><mi>f</mi><mo stretchy=\"false\">(</mo><mi>t</mi><mo>−</mo><mi>s</mi><mo stretchy=\"false\">)</mo><mo>⋅</mo><mi>g</mi><mo stretchy=\"false\">(</mo><mi>s</mi><mo stretchy=\"false\">)</mo><mtext>  </mtext><mi>d</mi><mi>s</mi></mrow><annotation encoding=\"application/x-tex\">h(t) = \\underbrace{(f*g)}_{\\text{convolution}}\\underbrace{(t)}_{\\text{time-domain}}= \\int_0^t f(t-s)\\cdot g(s) \\;ds</annotation></semantics></math></span></div>\n<ul>\n<li>Min-plus system theory\n<ul>\n<li>\n<p>streams, variability curves, time-interval domain, convolution</p>\n</li>\n<li>\n<p><span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi><mo stretchy=\"false\">(</mo><mi>t</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">R(t)</annotation></semantics></math></span></span>: Streams</p>\n</li>\n<li>\n<p><span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>g</mi><mo stretchy=\"false\">(</mo><mi mathvariant=\"normal\">Δ</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">g(\\Delta)</annotation></semantics></math></span></span>: Variability curves</p>\n</li>\n<li>\n<p><span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"normal\">Δ</mi></mrow><annotation encoding=\"application/x-tex\">\\Delta</annotation></semantics></math></span></span>: Time-interval domain</p>\n</li>\n<li>\n<p><span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>R</mi><mo>⊗</mo><mi>g</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(R\\otimes g)</annotation></semantics></math></span></span>: Convolution</p>\n</li>\n</ul>\n</li>\n</ul>\n<p><img src=\"/fc704085b7c9b28c43aaa8a0d5b9d4af/hscd_min_plus.svg\" alt=\"Min-plus calculus\"></p>\n<div class=\"math math-display\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><msup><mi>R</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">′</mo></msup><mo stretchy=\"false\">(</mo><mi>t</mi><mo stretchy=\"false\">)</mo><mo>≥</mo><munder><munder><mrow><mo stretchy=\"false\">(</mo><mi>R</mi><mo>⊗</mo><mi>g</mi><mo stretchy=\"false\">)</mo></mrow><mo stretchy=\"true\">⏟</mo></munder><mtext>convolution</mtext></munder><mo stretchy=\"false\">(</mo><mi>t</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mi><munder><mo><mi>i</mi><mi>n</mi><mi>f</mi></mo><mrow><mn>0</mn><mo>≤</mo><mi>λ</mi><mo>≤</mo><mi>t</mi></mrow></munder></mi><mo stretchy=\"false\">{</mo><mi>R</mi><mo stretchy=\"false\">(</mo><mi>t</mi><mo>−</mo><mi>λ</mi><mo stretchy=\"false\">)</mo><mo>+</mo><mi>g</mi><mo stretchy=\"false\">(</mo><mi>λ</mi><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">R'(t)\\geq \\underbrace{(R\\otimes g)}_{\\text{convolution}}(t)= \\underset{0\\leq \\lambda\\leq t}{inf}\\{R(t-\\lambda)+g(\\lambda) \\}</annotation></semantics></math></span></div>\n<!-- End of Notes Week 12 -->\n<!-- Beginning of Notes Week 13 -->\n<h3 id=\"from-streams-to-cumulative-functions\">From Streams to Cumulative Functions</h3>\n<ul>\n<li>Event streams → <strong>Arrival Curves</strong> (<span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>t</mi><mo>→</mo><mi mathvariant=\"normal\">Δ</mi></mrow><annotation encoding=\"application/x-tex\">t \\rightarrow \\Delta</annotation></semantics></math></span></span>)\n<ul>\n<li>Event stream: number of events in <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>t</mi><mo>=</mo><mo stretchy=\"false\">[</mo><mn>0..</mn><mi>T</mi><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">t=[0 .. T]</annotation></semantics></math></span></span></li>\n<li>Arrival Curves <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>α</mi><mo>=</mo><mo stretchy=\"false\">[</mo><msup><mi>α</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">′</mo></msup><mo separator=\"true\">,</mo><msup><mi>α</mi><mi>u</mi></msup><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">\\alpha = [\\alpha', \\alpha^u]</annotation></semantics></math></span></span>: maximum and minimum arriving events in <strong>any interval</strong> of length <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>t</mi></mrow><annotation encoding=\"application/x-tex\">t</annotation></semantics></math></span></span></li>\n</ul>\n</li>\n<li>Resources → <strong>Service Curves</strong> (<span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>t</mi><mo>→</mo><mi mathvariant=\"normal\">Δ</mi></mrow><annotation encoding=\"application/x-tex\">t \\rightarrow \\Delta</annotation></semantics></math></span></span>)\n<ul>\n<li>Resource Availability: available service in <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>t</mi><mo>=</mo><mo stretchy=\"false\">[</mo><mn>0..</mn><mi>T</mi><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">t=[0 .. T]</annotation></semantics></math></span></span></li>\n<li>Service Curves <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>β</mi><mo>=</mo><mo stretchy=\"false\">[</mo><msup><mi>β</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">′</mo></msup><mo separator=\"true\">,</mo><msup><mi>β</mi><mi>u</mi></msup><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">\\beta = [\\beta', \\beta^u]</annotation></semantics></math></span></span>: maximum and minimum available service in <strong>any interval</strong> of length <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>t</mi></mrow><annotation encoding=\"application/x-tex\">t</annotation></semantics></math></span></span></li>\n</ul>\n</li>\n<li>Arrival and Service Curves work on <em>time intervals</em> as domain (<span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"normal\">Δ</mi></mrow><annotation encoding=\"application/x-tex\">\\Delta</annotation></semantics></math></span></span>)</li>\n</ul>\n<h1 id=\"overview-of-methods-and-algorithms\">Overview of Methods and Algorithms</h1>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>Domain</th>\n<th>Notes</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Hierarchical Clustering</td>\n<td>Partitioning</td>\n<td></td>\n</tr>\n<tr>\n<td>Integer Linear Programming</td>\n<td>Partitioning</td>\n<td></td>\n</tr>\n<tr>\n<td>Simulated Annealing</td>\n<td>Partitioning</td>\n<td></td>\n</tr>\n<tr>\n<td>Trace Based Simulation</td>\n<td>Estimation</td>\n<td></td>\n</tr>\n<tr>\n<td>Evolutionary Algorithms</td>\n<td>Partitioning</td>\n<td>Multi Objective Optimization</td>\n</tr>\n<tr>\n<td>Tom Parks Algorithm</td>\n<td>Kahn Process Networks</td>\n<td></td>\n</tr>\n<tr>\n<td>Kerninghan Lin</td>\n<td>Partitioning</td>\n<td></td>\n</tr>\n</tbody>\n</table>","frontmatter":{"title":"Hardware-Software Codesign","tags":["Computer Science","ETH"],"category":"Programming"},"headings":[{"depth":1,"value":"0. Overview"},{"depth":1,"value":"1. Introduction"},{"depth":2,"value":"System Design"},{"depth":2,"value":"Embedded Systems"},{"depth":3,"value":"Difference Embedded Systems ↔ General Purpose Computing"},{"depth":3,"value":"Levels of abstraction (from higher to lower)"},{"depth":3,"value":"Design"},{"depth":3,"value":"Estimation"},{"depth":3,"value":"Mapping"},{"depth":3,"value":"Specification"},{"depth":1,"value":"2. Models of Computation"},{"depth":2,"value":"State Charts"},{"depth":3,"value":"Evaluation of State Charts"},{"depth":2,"value":"Specification and Description Language (SDL)"},{"depth":2,"value":"Dataflow Languages"},{"depth":3,"value":"Kahn Process Networks"},{"depth":4,"value":"Determinacy"},{"depth":4,"value":"Adding Non-Determinacy"},{"depth":3,"value":"Synchronous Dataflow (SDF)"},{"depth":1,"value":"3. Mapping Application to Architecture"},{"depth":2,"value":"Specification Examples"},{"depth":3,"value":"Data-Flow Graph (DFG)"},{"depth":3,"value":"Control-Flow Graph (CFG)"},{"depth":2,"value":"Architecture Specification"},{"depth":2,"value":"Mapping Specification"},{"depth":1,"value":"4. System Partitioning"},{"depth":2,"value":"Mapping at different Levels"},{"depth":3,"value":"Low Level"},{"depth":3,"value":"High Level"},{"depth":2,"value":"Cost Functions"},{"depth":3,"value":"Estimation"},{"depth":3,"value":"The Formal Partitioning Problem"},{"depth":3,"value":"Partitioning Methods"},{"depth":4,"value":"Hierarchical Clustering"},{"depth":3,"value":"Integer Linear Programming (ILP)"},{"depth":4,"value":"Example for Partitioning"},{"depth":4,"value":"Approaches"},{"depth":4,"value":"Solutions"},{"depth":3,"value":"Iterative Methods"},{"depth":4,"value":"Kernighan-Lin"},{"depth":4,"value":"Simulated Annealing"},{"depth":1,"value":"5. Multi-Criteria Optimization"},{"depth":2,"value":"Example: Network Processors"},{"depth":2,"value":"Basic Definition"},{"depth":2,"value":"Pareto Dominance"},{"depth":3,"value":"Optimization Alternatives"},{"depth":3,"value":"Evolutionary Algorithms"},{"depth":4,"value":"Hypervolume Indicator"},{"depth":4,"value":"Representation and Neighborhood"},{"depth":4,"value":"Tree Representation"},{"depth":4,"value":"Handling Constraints"},{"depth":1,"value":"6. System Simulation"},{"depth":2,"value":"System and Model"},{"depth":2,"value":"State"},{"depth":2,"value":"Discrete/Continuous Systems"},{"depth":3,"value":"Discrete Event Systems (DES)"},{"depth":4,"value":"Simulation"},{"depth":4,"value":"Discrete-Event Modeling and Simulation"},{"depth":5,"value":"Components of Discrete-Event Simulation"},{"depth":5,"value":"Simulation Engine"},{"depth":2,"value":"SystemC"},{"depth":3,"value":"Language Architecture"},{"depth":3,"value":"Processes"},{"depth":3,"value":"Modules"},{"depth":3,"value":"Inter Process Communication"},{"depth":3,"value":"Wait and Notify"},{"depth":2,"value":"Levels of Abstractions"},{"depth":1,"value":"7. Design Space Exploration"},{"depth":2,"value":"Example: Network Processor (NP)"},{"depth":3,"value":"Optimal Design of Network Processor"},{"depth":4,"value":"Design constraints"},{"depth":3,"value":"NP Design Space Exploration"},{"depth":2,"value":"Performance Estimation"},{"depth":3,"value":"Metric"},{"depth":3,"value":"Method"},{"depth":3,"value":"Abstraction Level"},{"depth":3,"value":"Subsystem to Analyze"},{"depth":2,"value":"Performance Estimation in Design Flow"},{"depth":2,"value":"Multi-Processor System-on-Chip"},{"depth":3,"value":"Communication"},{"depth":3,"value":"Computation and Memory"},{"depth":3,"value":"Scheduling and Arbitration"},{"depth":3,"value":"Difficulty"},{"depth":2,"value":"Abstraction"},{"depth":2,"value":"Performance Estimation Methods"},{"depth":3,"value":"Static Analysis Models"},{"depth":3,"value":"Dynamic Analytic Models"},{"depth":4,"value":"Stochastic Queuing Systems"},{"depth":4,"value":"Worst-Case/Best-Case Queuing Systems"},{"depth":3,"value":"Simulation"},{"depth":4,"value":"Trace-Based Simulation"},{"depth":1,"value":"9. Worst Case Execution Time Analysis"},{"depth":2,"value":"Hard Real-Time Systems"},{"depth":2,"value":"Industry’s Best Practice"},{"depth":3,"value":"Calculating Upper Bounds"},{"depth":4,"value":"Sequence of Statements"},{"depth":4,"value":"Conditional Statement"},{"depth":4,"value":"Loops"},{"depth":3,"value":"Modern Hardware Features"},{"depth":3,"value":"Program Path Analysis"},{"depth":4,"value":"Basic Blocks"},{"depth":4,"value":"Calculation of the WCET"},{"depth":5,"value":"Integer Linear Program for WCET Calculation"},{"depth":3,"value":"Abstract Interpretation (AI)"},{"depth":4,"value":"Value Analysis"},{"depth":4,"value":"Caches"},{"depth":4,"value":"Cache Analysis"},{"depth":5,"value":"Must Cache"},{"depth":5,"value":"May Cache"},{"depth":5,"value":"Cache Contribution to WCET"},{"depth":4,"value":"Pipelines"},{"depth":1,"value":"10 Performance Analysis of Distributed Embedded Systems"},{"depth":2,"value":"Real-Time Calculus"},{"depth":3,"value":"Algebraic Structure"},{"depth":3,"value":"System Theories"},{"depth":3,"value":"From Streams to Cumulative Functions"},{"depth":1,"value":"Overview of Methods and Algorithms"}]}},"pageContext":{"id":"2450c51c-9e3f-58f1-b25a-f8bd632ba2dd","previousPost":{"title":"System Construction","slug":"/blog/system_construction"},"nextPost":{"title":"Git Detached Head","slug":"/blog/git_detached_head"},"dates":{"created":1447612371,"modified":1647509701}}},
    "staticQueryHashes": []}