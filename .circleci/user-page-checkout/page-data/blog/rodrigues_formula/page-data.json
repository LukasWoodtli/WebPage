{
    "componentChunkName": "component---src-templates-blog-post-tsx",
    "path": "/blog/rodrigues_formula",
    "result": {"data":{"site":{"siteMetadata":{"title":"My personal Website"}},"markdownRemark":{"id":"304a520c-72f5-51a7-8cc7-2d14bdf2a46b","excerpt":"Axis-Angle Representation of Rotation An alternative representation to rotation matrices is the axis-angle representation in the form:  Where: : Rotation axis…","html":"<h1 id=\"axis-angle-representation-of-rotation\">Axis-Angle Representation of Rotation</h1>\n<p>An alternative representation to rotation matrices is the <strong>axis-angle</strong> representation in the form:</p>\n<p><span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mover accent=\"true\"><mi>ω</mi><mo>^</mo></mover><mi>θ</mi><mo>∈</mo><msup><mi mathvariant=\"double-struck\">R</mi><mn>3</mn></msup></mrow><annotation encoding=\"application/x-tex\">\\hat{\\omega}\\theta \\in \\mathbb{R}^3</annotation></semantics></math></span></span></p>\n<p>Where:</p>\n<ul>\n<li><span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mover accent=\"true\"><mi>ω</mi><mo>^</mo></mover><mo>∈</mo><msup><mi mathvariant=\"double-struck\">R</mi><mn>3</mn></msup></mrow><annotation encoding=\"application/x-tex\">\\hat{\\omega} \\in \\mathbb{R}^3</annotation></semantics></math></span></span>: Rotation axis (unit vector: <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mrow><mo fence=\"true\">∥</mo><mover accent=\"true\"><mi>ω</mi><mo>^</mo></mover><mo fence=\"true\">∥</mo></mrow><mo>=</mo><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">\\left\\|\\hat{\\omega}\\right\\| = 1</annotation></semantics></math></span></span>)</li>\n<li><span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>θ</mi><mo>∈</mo><mi mathvariant=\"double-struck\">R</mi></mrow><annotation encoding=\"application/x-tex\">\\theta \\in \\mathbb{R}</annotation></semantics></math></span></span>: Rotation angle</li>\n</ul>\n<h1 id=\"exponential-coordinates-of-rotation\">Exponential Coordinates of Rotation</h1>\n<p>If a frame (initially coincident with the identity matrix <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>I</mi></mrow><annotation encoding=\"application/x-tex\">I</annotation></semantics></math></span></span>) rotates about <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mover accent=\"true\"><mi>ω</mi><mo>^</mo></mover></mrow><annotation encoding=\"application/x-tex\">\\hat{\\omega}</annotation></semantics></math></span></span> for <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>θ</mi></mrow><annotation encoding=\"application/x-tex\">\\theta</annotation></semantics></math></span></span> units of time (i.e. <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mover accent=\"true\"><mi>ω</mi><mo>^</mo></mover></mrow><annotation encoding=\"application/x-tex\">\\hat{\\omega}</annotation></semantics></math></span></span> is integrated over that time interval) the final position would be expressed by the rotation matrix <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi></mrow><annotation encoding=\"application/x-tex\">R</annotation></semantics></math></span></span>.</p>\n<h2 id=\"matrix-exponential-rodrigues-formula\">Matrix Exponential (Rodrigues’ formula)</h2>\n<p>From the <strong>axis-angle</strong>  <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">[</mo><mover accent=\"true\"><mi>ω</mi><mo>^</mo></mover><mo stretchy=\"false\">]</mo><mi>θ</mi><mo>=</mo><mo stretchy=\"false\">[</mo><mover accent=\"true\"><mi>ω</mi><mo>^</mo></mover><mi>θ</mi><mo stretchy=\"false\">]</mo><mo>∈</mo><mi>s</mi><mi>o</mi><mo stretchy=\"false\">(</mo><mn>3</mn><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">[\\hat{\\omega}]\\theta =[\\hat{\\omega}\\theta] \\in so(3)</annotation></semantics></math></span></span> representation the matrix exponential (rotation matrix) can be calculated:</p>\n<p><span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi><mi>o</mi><mi>t</mi><mo stretchy=\"false\">(</mo><mover accent=\"true\"><mi>ω</mi><mo>^</mo></mover><mo separator=\"true\">,</mo><mi>θ</mi><mo stretchy=\"false\">)</mo><mo>=</mo><msup><mi>e</mi><mrow><mo stretchy=\"false\">[</mo><mover accent=\"true\"><mi>ω</mi><mo>^</mo></mover><mo stretchy=\"false\">]</mo><mi>θ</mi></mrow></msup><mo>=</mo><mi>I</mi><mo>+</mo><mi>sin</mi><mo>⁡</mo><mo stretchy=\"false\">(</mo><mi>θ</mi><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">[</mo><mover accent=\"true\"><mi>ω</mi><mo>^</mo></mover><mo stretchy=\"false\">]</mo><mo>+</mo><mo stretchy=\"false\">(</mo><mn>1</mn><mo>−</mo><mi>cos</mi><mo>⁡</mo><mo stretchy=\"false\">(</mo><mi>θ</mi><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">[</mo><mover accent=\"true\"><mi>ω</mi><mo>^</mo></mover><msup><mo stretchy=\"false\">]</mo><mn>2</mn></msup></mrow><annotation encoding=\"application/x-tex\">Rot(\\hat{\\omega}, \\theta) = e^{[\\hat{\\omega}]\\theta} =I+\\sin(\\theta)[\\hat{\\omega}]+(1-\\cos(\\theta))[\\hat{\\omega}]^{2}</annotation></semantics></math></span></span></p>\n<p>With:</p>\n<ul>\n<li><span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi><mi>o</mi><mi>t</mi><mo stretchy=\"false\">(</mo><mover accent=\"true\"><mi>ω</mi><mo>^</mo></mover><mo separator=\"true\">,</mo><mi>θ</mi><mo stretchy=\"false\">)</mo><mo>∈</mo><mi>S</mi><mi>O</mi><mo stretchy=\"false\">(</mo><mn>3</mn><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">Rot(\\hat{\\omega}, \\theta) \\in SO(3)</annotation></semantics></math></span></span>: Matrix exponential of <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mover accent=\"true\"><mi>ω</mi><mo>^</mo></mover><mi>θ</mi></mrow><annotation encoding=\"application/x-tex\">\\hat{\\omega}\\theta</annotation></semantics></math></span></span></li>\n<li><span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mover accent=\"true\"><mi>ω</mi><mo>^</mo></mover><mo>∈</mo><msup><mi mathvariant=\"double-struck\">R</mi><mn>3</mn></msup></mrow><annotation encoding=\"application/x-tex\">\\hat{\\omega} \\in \\mathbb{R}^3</annotation></semantics></math></span></span>: Rotation axis (unit vector)</li>\n<li><span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>θ</mi><mo>∈</mo><mi mathvariant=\"double-struck\">R</mi></mrow><annotation encoding=\"application/x-tex\">\\theta\\in \\mathbb{R}</annotation></semantics></math></span></span>: Rotation angle</li>\n<li><span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">[</mo><mover accent=\"true\"><mi>ω</mi><mo>^</mo></mover><mo stretchy=\"false\">]</mo><mi>θ</mi><mo>=</mo><mo stretchy=\"false\">[</mo><mover accent=\"true\"><mi>ω</mi><mo>^</mo></mover><mi>θ</mi><mo stretchy=\"false\">]</mo><mo>∈</mo><mi>s</mi><mi>o</mi><mo stretchy=\"false\">(</mo><mn>3</mn><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">[\\hat{\\omega}]\\theta = [\\hat{\\omega}\\theta] \\in so(3)</annotation></semantics></math></span></span>: Skew-symmetric matrix form of axis-angle representation</li>\n</ul>\n<p>The matrix exponential is used to construct a rotation matrix from a rotation axis <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mover accent=\"true\"><mi>ω</mi><mo>^</mo></mover></mrow><annotation encoding=\"application/x-tex\">\\hat{\\omega}</annotation></semantics></math></span></span> and an angle of rotaion <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>θ</mi></mrow><annotation encoding=\"application/x-tex\">\\theta</annotation></semantics></math></span></span>. The resulting rotation matrix represents the final orientation. The initial orientation is the identity matrix <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>I</mi></mrow><annotation encoding=\"application/x-tex\">I</annotation></semantics></math></span></span>.</p>\n<p>Exponentiation integrates the angular velocity <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mover accent=\"true\"><mi>ω</mi><mo>^</mo></mover></mrow><annotation encoding=\"application/x-tex\">\\hat{\\omega}</annotation></semantics></math></span></span> for time <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>θ</mi></mrow><annotation encoding=\"application/x-tex\">\\theta</annotation></semantics></math></span></span> seconds going from the identity matrix <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>I</mi></mrow><annotation encoding=\"application/x-tex\">I</annotation></semantics></math></span></span> to the final rotation matrix <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi></mrow><annotation encoding=\"application/x-tex\">R</annotation></semantics></math></span></span>.</p>\n<p>Exp: <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">[</mo><mover accent=\"true\"><mi>ω</mi><mo>^</mo></mover><mo stretchy=\"false\">]</mo><mi>θ</mi><mo>∈</mo><mi>s</mi><mi>o</mi><mo stretchy=\"false\">(</mo><mn>3</mn><mo stretchy=\"false\">)</mo><mo>→</mo><mi>R</mi><mo>∈</mo><mi>S</mi><mi>O</mi><mo stretchy=\"false\">(</mo><mn>3</mn><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">[\\hat{\\omega}]\\theta \\in so(3) \\rightarrow R \\in SO(3)</annotation></semantics></math></span></span></p>\n<blockquote>\n<p>Matrix exponential is like integration</p>\n</blockquote>\n<h3 id=\"rotation-of-a-vector\">Rotation of a Vector</h3>\n<p><span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>e</mi><mrow><mo stretchy=\"false\">[</mo><mover accent=\"true\"><mi>ω</mi><mo>^</mo></mover><mo stretchy=\"false\">]</mo><mi>θ</mi></mrow></msup><mi>p</mi></mrow><annotation encoding=\"application/x-tex\">e^{[\\hat{\\omega}]\\theta}p</annotation></semantics></math></span></span> has the effect of rotating <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>p</mi><mo>∈</mo><msup><mi mathvariant=\"double-struck\">R</mi><mn>3</mn></msup></mrow><annotation encoding=\"application/x-tex\">p \\in \\mathbb{R}^3</annotation></semantics></math></span></span> about the <em>fixed frame</em> axis <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mover accent=\"true\"><mi>ω</mi><mo>^</mo></mover></mrow><annotation encoding=\"application/x-tex\">\\hat{\\omega}</annotation></semantics></math></span></span> by angle <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>θ</mi></mrow><annotation encoding=\"application/x-tex\">\\theta</annotation></semantics></math></span></span>.</p>\n<h2 id=\"rotation-of-a-frame\">Rotation of a Frame</h2>\n<p><span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>R</mi><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">′</mo></msup><mo>=</mo><msup><mi>e</mi><mrow><mo stretchy=\"false\">[</mo><mover accent=\"true\"><mi>ω</mi><mo>^</mo></mover><mo stretchy=\"false\">]</mo><mi>θ</mi></mrow></msup><mi>R</mi><mo>=</mo><mi>R</mi><mi>o</mi><mi>t</mi><mo stretchy=\"false\">(</mo><mover accent=\"true\"><mi>ω</mi><mo>^</mo></mover><mo separator=\"true\">,</mo><mi>θ</mi><mo stretchy=\"false\">)</mo><mi>R</mi></mrow><annotation encoding=\"application/x-tex\">R' = e^{[\\hat{\\omega}] \\theta} R = Rot(\\hat{\\omega}, \\theta) R</annotation></semantics></math></span></span> is the orientation achieved by rotating <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi></mrow><annotation encoding=\"application/x-tex\">R</annotation></semantics></math></span></span> by <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>θ</mi></mrow><annotation encoding=\"application/x-tex\">\\theta</annotation></semantics></math></span></span> about the axis <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mover accent=\"true\"><mi>ω</mi><mo>^</mo></mover></mrow><annotation encoding=\"application/x-tex\">\\hat{\\omega}</annotation></semantics></math></span></span> in the <em>fixed frame</em>.</p>\n<p><span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>R</mi><mrow><mo mathvariant=\"normal\">′</mo><mo mathvariant=\"normal\">′</mo></mrow></msup><mo>=</mo><mi>R</mi><msup><mi>e</mi><mrow><mo stretchy=\"false\">[</mo><mover accent=\"true\"><mi>ω</mi><mo>^</mo></mover><mo stretchy=\"false\">]</mo><mi>θ</mi></mrow></msup><mo>=</mo><mi>R</mi><mi>R</mi><mi>o</mi><mi>t</mi><mo stretchy=\"false\">(</mo><mover accent=\"true\"><mi>ω</mi><mo>^</mo></mover><mo separator=\"true\">,</mo><mi>θ</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">R'' = Re^{[\\hat{\\omega}] \\theta} = R Rot(\\hat{\\omega}, \\theta)</annotation></semantics></math></span></span> is the orientation achieved by rotating <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi></mrow><annotation encoding=\"application/x-tex\">R</annotation></semantics></math></span></span> by <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>θ</mi></mrow><annotation encoding=\"application/x-tex\">\\theta</annotation></semantics></math></span></span> about the axis <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mover accent=\"true\"><mi>ω</mi><mo>^</mo></mover></mrow><annotation encoding=\"application/x-tex\">\\hat{\\omega}</annotation></semantics></math></span></span> in the <em>body frame</em>.</p>\n<h2 id=\"logarithm\">Logarithm</h2>\n<p>The inverse of the matrix exponential (matrix logarithm) takes a rotation matrix <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi></mrow><annotation encoding=\"application/x-tex\">R</annotation></semantics></math></span></span> and returns the skew-symmetric representation of the exponential coordinates that achieve it starting from the identity orientation <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>I</mi></mrow><annotation encoding=\"application/x-tex\">I</annotation></semantics></math></span></span>.</p>\n<p>It returns the angular velocity and the integration time that achieves the rotation matrix <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi></mrow><annotation encoding=\"application/x-tex\">R</annotation></semantics></math></span></span>.</p>\n<p>The matrix logarithm is an algorithm that inverts Rodrigues’ formula:</p>\n<ol>\n<li>if <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi><mo>=</mo><mi>I</mi></mrow><annotation encoding=\"application/x-tex\">R = I</annotation></semantics></math></span></span> then <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>θ</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">\\theta = 0</annotation></semantics></math></span></span> and <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mover accent=\"true\"><mi>ω</mi><mo>^</mo></mover></mrow><annotation encoding=\"application/x-tex\">\\hat{\\omega}</annotation></semantics></math></span></span> is undefined</li>\n<li>else if <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>t</mi><mi>r</mi><mi>R</mi><mo>=</mo><mo>−</mo><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">tr R = -1</annotation></semantics></math></span></span> then <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>θ</mi><mo>=</mo><mi>π</mi></mrow><annotation encoding=\"application/x-tex\">\\theta = \\pi</annotation></semantics></math></span></span> and <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mover accent=\"true\"><mi>ω</mi><mo>^</mo></mover></mrow><annotation encoding=\"application/x-tex\">\\hat{\\omega}</annotation></semantics></math></span></span> is one of the following (choose a feasible solution):\n<ul>\n<li><span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mover accent=\"true\"><mi>ω</mi><mo>^</mo></mover><mo>=</mo><mfrac><mn>1</mn><msqrt><mrow><mn>2</mn><mo stretchy=\"false\">(</mo><mn>1</mn><mo>+</mo><msub><mi>r</mi><mn>33</mn></msub><mo stretchy=\"false\">)</mo></mrow></msqrt></mfrac><mrow><mo fence=\"true\">[</mo><mtable rowspacing=\"0.16em\" columnalign=\"center\" columnspacing=\"1em\"><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><msub><mi>r</mi><mn>13</mn></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><msub><mi>r</mi><mn>23</mn></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><mn>1</mn><mo>+</mo><msub><mi>r</mi><mn>33</mn></msub></mrow></mstyle></mtd></mtr></mtable><mo fence=\"true\">]</mo></mrow></mrow><annotation encoding=\"application/x-tex\">\\hat{\\omega} = \\frac{1}{\\sqrt{2(1 + r_{33})}}\\begin{bmatrix} r_{13}\\\\r_{23}\\\\ 1 + r_{33}\\end{bmatrix}</annotation></semantics></math></span></span></li>\n<li><span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mover accent=\"true\"><mi>ω</mi><mo>^</mo></mover><mo>=</mo><mfrac><mn>1</mn><msqrt><mrow><mn>2</mn><mo stretchy=\"false\">(</mo><mn>1</mn><mo>+</mo><msub><mi>r</mi><mn>22</mn></msub><mo stretchy=\"false\">)</mo></mrow></msqrt></mfrac><mrow><mo fence=\"true\">[</mo><mtable rowspacing=\"0.16em\" columnalign=\"center\" columnspacing=\"1em\"><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><msub><mi>r</mi><mn>12</mn></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><mn>1</mn><mo>+</mo><msub><mi>r</mi><mn>22</mn></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><msub><mi>r</mi><mn>32</mn></msub></mstyle></mtd></mtr></mtable><mo fence=\"true\">]</mo></mrow></mrow><annotation encoding=\"application/x-tex\">\\hat{\\omega} = \\frac{1}{\\sqrt{2(1 + r_{22})}}\\begin{bmatrix} r_{12}\\\\1+r_{22}\\\\ r_{32}\\end{bmatrix}</annotation></semantics></math></span></span></li>\n<li><span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mover accent=\"true\"><mi>ω</mi><mo>^</mo></mover><mo>=</mo><mfrac><mn>1</mn><msqrt><mrow><mn>2</mn><mo stretchy=\"false\">(</mo><mn>1</mn><mo>+</mo><msub><mi>r</mi><mn>11</mn></msub><mo stretchy=\"false\">)</mo></mrow></msqrt></mfrac><mrow><mo fence=\"true\">[</mo><mtable rowspacing=\"0.16em\" columnalign=\"center\" columnspacing=\"1em\"><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><mn>1</mn><mo>+</mo><msub><mi>r</mi><mn>11</mn></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><msub><mi>r</mi><mn>21</mn></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><msub><mi>r</mi><mn>31</mn></msub></mstyle></mtd></mtr></mtable><mo fence=\"true\">]</mo></mrow></mrow><annotation encoding=\"application/x-tex\">\\hat{\\omega} = \\frac{1}{\\sqrt{2(1 + r_{11})}}\\begin{bmatrix} 1+ r_{11}\\\\r_{21}\\\\ r_{31}\\end{bmatrix}</annotation></semantics></math></span></span></li>\n<li>Note: f <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mover accent=\"true\"><mi>ω</mi><mo>^</mo></mover></mrow><annotation encoding=\"application/x-tex\">\\hat{\\omega}</annotation></semantics></math></span></span> is a solution so is <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>−</mo><mover accent=\"true\"><mi>ω</mi><mo>^</mo></mover></mrow><annotation encoding=\"application/x-tex\">-\\hat{\\omega}</annotation></semantics></math></span></span> as well</li>\n</ul>\n</li>\n<li>otherwise <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>θ</mi><mo>=</mo><mi>c</mi><mi>o</mi><msup><mi>s</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo stretchy=\"false\">(</mo><mfrac><mn>1</mn><mn>2</mn></mfrac><mo stretchy=\"false\">(</mo><mi>t</mi><mi>r</mi><mi>R</mi><mo>−</mo><mn>1</mn><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">)</mo><mo>∈</mo><mo stretchy=\"false\">[</mo><mn>0</mn><mo separator=\"true\">,</mo><mi>π</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\theta = cos^{-1}(\\frac{1}{2}(tr R - 1)) \\in [0, \\pi)</annotation></semantics></math></span></span> and <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">[</mo><mover accent=\"true\"><mi>ω</mi><mo>^</mo></mover><mo stretchy=\"false\">]</mo><mo>=</mo><mfrac><mn>1</mn><mrow><mn>2</mn><mi>s</mi><mi>i</mi><mi>n</mi><mi>θ</mi></mrow></mfrac><mo stretchy=\"false\">(</mo><mi>R</mi><mo>−</mo><msup><mi>R</mi><mi>T</mi></msup><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">[\\hat{\\omega}] = \\frac{1}{2 sin \\theta}(R - R^T)</annotation></semantics></math></span></span></li>\n</ol>\n<p>Every <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi><mo>∈</mo><mi>S</mi><mi>O</mi><mo stretchy=\"false\">(</mo><mn>3</mn><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">R \\in SO(3)</annotation></semantics></math></span></span> satisfies one of the three cases of the algorithm.\nThat means that for every <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi></mrow><annotation encoding=\"application/x-tex\">R</annotation></semantics></math></span></span> there exists a matrix logarithm <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">[</mo><mover accent=\"true\"><mi>ω</mi><mo>^</mo></mover><mo stretchy=\"false\">]</mo><mi>θ</mi></mrow><annotation encoding=\"application/x-tex\">[\\hat{\\omega}]\\theta</annotation></semantics></math></span></span> and thus also a set of exponential coordinates <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mover accent=\"true\"><mi>ω</mi><mo>^</mo></mover><mi>θ</mi></mrow><annotation encoding=\"application/x-tex\">\\hat{\\omega}\\theta</annotation></semantics></math></span></span> such that <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi><mo>=</mo><msup><mi>e</mi><mrow><mo stretchy=\"false\">[</mo><mover accent=\"true\"><mi>ω</mi><mo>^</mo></mover><mo stretchy=\"false\">]</mo><mi>θ</mi></mrow></msup></mrow><annotation encoding=\"application/x-tex\">R = e^{[\\hat{\\omega}]\\theta}</annotation></semantics></math></span></span>.</p>\n<p>Log: <span class=\"math math-inline\"><span class=\"katex\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi><mo>∈</mo><mi>S</mi><mi>O</mi><mo stretchy=\"false\">(</mo><mn>3</mn><mo stretchy=\"false\">)</mo><mo>→</mo><mo stretchy=\"false\">[</mo><mover accent=\"true\"><mi>ω</mi><mo>^</mo></mover><mo stretchy=\"false\">]</mo><mi>θ</mi><mo>∈</mo><mi>s</mi><mi>o</mi><mo stretchy=\"false\">(</mo><mn>3</mn><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">R \\in SO(3) \\rightarrow [\\hat{\\omega}]\\theta \\in so(3)</annotation></semantics></math></span></span></p>\n<blockquote>\n<p>Matrix log is like differentiation</p>\n</blockquote>\n<h1 id=\"literature\">Literature</h1>\n<p>Notes taken from:</p>\n<p><a href=\"http://hades.mech.northwestern.edu/index.php/Modern_Robotics\">Modern Robotics: Mechanics, Planning, and Control</a> by Kevin M. Lynch and Frank C. Park, Cambridge University Press, 2017</p>","frontmatter":{"title":"Exponential Coordinates of Rotations (Rodrigues' formula)","tags":["Robotics"],"category":"Mathematics"},"headings":[{"depth":1,"value":"Axis-Angle Representation of Rotation"},{"depth":1,"value":"Exponential Coordinates of Rotation"},{"depth":2,"value":"Matrix Exponential (Rodrigues’ formula)"},{"depth":3,"value":"Rotation of a Vector"},{"depth":2,"value":"Rotation of a Frame"},{"depth":2,"value":"Logarithm"},{"depth":1,"value":"Literature"}]}},"pageContext":{"id":"304a520c-72f5-51a7-8cc7-2d14bdf2a46b","previousPost":{"title":"Angular Velocity","slug":"/blog/angular_velocity"},"nextPost":{"title":"Domain Driven Design","slug":"/blog/domain_driven_design"},"dates":{"created":1570565294,"modified":1647509701}}},
    "staticQueryHashes": []}